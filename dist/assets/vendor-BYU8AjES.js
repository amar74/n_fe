var Hu=e=>{throw TypeError(e)};var gs=(e,t,n)=>t.has(e)||Hu("Cannot "+n);var b=(e,t,n)=>(gs(e,t,"read from private field"),n?n.call(e):t.get(e)),q=(e,t,n)=>t.has(e)?Hu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),E=(e,t,n,r)=>(gs(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),B=(e,t,n)=>(gs(e,t,"access private method"),n);var ui=(e,t,n,r)=>({set _(i){E(e,t,i,n)},get _(){return b(e,t,r)}});import{bG as Ag,bH as lt}from"./react-vendor-4NsxuIy_.js";import{_ as Zr}from"./opportunities-0g3VWd8I.js";var ps={exports:{}},ms={},Ku;function Pg(){return Ku||(Ku=1,(function(e){/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function t(){if(S=!1,D){var O=e.unstable_now();N=O;var j=!0;try{e:{v=!1,_&&(_=!1,A(z),z=-1),w=!0;var x=y;try{t:{for(o(O),g=r(d);g!==null&&!(g.expirationTime>O&&u());){var L=g.callback;if(typeof L=="function"){g.callback=null,y=g.priorityLevel;var ne=L(g.expirationTime<=O);if(O=e.unstable_now(),typeof ne=="function"){g.callback=ne,o(O),j=!0;break t}g===r(d)&&i(d),o(O)}else i(d);g=r(d)}if(g!==null)j=!0;else{var ht=r(p);ht!==null&&c(a,ht.startTime-O),j=!1}}break e}finally{g=null,y=x,w=!1}j=void 0}}finally{j?V():D=!1}}}function n(O,j){var x=O.length;O.push(j);e:for(;0<x;){var L=x-1>>>1,ne=O[L];if(0<s(ne,j))O[L]=j,O[x]=ne,x=L;else break e}}function r(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var j=O[0],x=O.pop();if(x!==j){O[0]=x;e:for(var L=0,ne=O.length,ht=ne>>>1;L<ht;){var Ze=2*(L+1)-1,ue=O[Ze],se=Ze+1,ze=O[se];if(0>s(ue,x))se<ne&&0>s(ze,ue)?(O[L]=ze,O[se]=x,L=se):(O[L]=ue,O[Ze]=x,L=Ze);else if(se<ne&&0>s(ze,x))O[L]=ze,O[se]=x,L=se;else break e}}return j}function s(O,j){var x=O.sortIndex-j.sortIndex;return x!==0?x:O.id-j.id}function o(O){for(var j=r(p);j!==null;){if(j.callback===null)i(p);else if(j.startTime<=O)i(p),j.sortIndex=j.expirationTime,n(d,j);else break;j=r(p)}}function a(O){if(_=!1,o(O),!v)if(r(d)!==null)v=!0,D||(D=!0,V());else{var j=r(p);j!==null&&c(a,j.startTime-O)}}function u(){return S?!0:!(e.unstable_now()-N<M)}function c(O,j){z=k(function(){O(e.unstable_now())},j)}if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error()),e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var f=Date,h=f.now();e.unstable_now=function(){return f.now()-h}}var d=[],p=[],m=1,g=null,y=3,w=!1,v=!1,_=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null,D=!1,z=-1,M=5,N=-1;if(typeof P=="function")var V=function(){P(t)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ae=Y.port2;Y.port1.onmessage=t,V=function(){ae.postMessage(null)}}else V=function(){k(t,0)};e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(O){switch(y){case 1:case 2:case 3:var j=3;break;default:j=y}var x=y;y=j;try{return O()}finally{y=x}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(O,j){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var x=y;y=O;try{return j()}finally{y=x}},e.unstable_scheduleCallback=function(O,j,x){var L=e.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?L+x:L):x=L,O){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=x+ne,O={id:m++,callback:j,priorityLevel:O,startTime:x,expirationTime:ne,sortIndex:-1},x>L?(O.sortIndex=x,n(p,O),r(d)===null&&O===r(p)&&(_?(A(z),z=-1):_=!0,c(a,x-L))):(O.sortIndex=ne,n(d,O),v||w||(v=!0,D||(D=!0,V()))),O},e.unstable_shouldYield=u,e.unstable_wrapCallback=function(O){var j=y;return function(){var x=y;y=j;try{return O.apply(this,arguments)}finally{y=x}}},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()})(ms)),ms}var Gu;function e1(){return Gu||(Gu=1,ps.exports=Pg()),ps.exports}var mr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ur=typeof window>"u"||"Deno"in globalThis;function Le(){}function Eg(e,t){return typeof e=="function"?e(t):e}function Yo(e){return typeof e=="number"&&e>=0&&e!==1/0}function fh(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Vt(e,t){return typeof e=="function"?e(t):e}function Ue(e,t){return typeof e=="function"?e(t):e}function Vu(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==Ha(o,t.options))return!1}else if(!Nr(t.queryKey,o))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function Qu(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(xn(t.options.mutationKey)!==xn(s))return!1}else if(!Nr(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Ha(e,t){return(t?.queryKeyHashFn||xn)(e)}function xn(e){return JSON.stringify(e,(t,n)=>Xo(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Nr(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Nr(e[n],t[n])):!1}function Jo(e,t){if(e===t)return e;const n=Yu(e)&&Yu(t);if(n||Xo(e)&&Xo(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),o=s.length,a=n?[]:{},u=new Set(r);let c=0;for(let l=0;l<o;l++){const f=n?l:s[l];(!n&&u.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(a[f]=void 0,c++):(a[f]=Jo(e[f],t[f]),a[f]===e[f]&&e[f]!==void 0&&c++)}return i===o&&c===i?e:a}return t}function Ti(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Yu(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xo(e){if(!Ju(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ju(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ju(e){return Object.prototype.toString.call(e)==="[object Object]"}function Mg(e){return new Promise(t=>{setTimeout(t,e)})}function Zo(e,t,n){if(typeof n.structuralSharing=="function")return n.structuralSharing(e,t);if(n.structuralSharing!==!1){try{return Jo(e,t)}catch(r){throw console.error(`Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${n.queryHash}]: ${r}`),r}return Jo(e,t)}return t}function Cg(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Rg(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Oi=Symbol();function hh(e,t){return e.queryFn===Oi&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${e.queryHash}'`),!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Oi?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function t1(e,t){return typeof e=="function"?e(...t):!!e}var dn,qt,Qn,th,jg=(th=class extends mr{constructor(){super();q(this,dn);q(this,qt);q(this,Qn);E(this,Qn,t=>{if(!ur&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){b(this,qt)||this.setEventListener(b(this,Qn))}onUnsubscribe(){var t;this.hasListeners()||((t=b(this,qt))==null||t.call(this),E(this,qt,void 0))}setEventListener(t){var n;E(this,Qn,t),(n=b(this,qt))==null||n.call(this),E(this,qt,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){b(this,dn)!==t&&(E(this,dn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){return typeof b(this,dn)=="boolean"?b(this,dn):globalThis.document?.visibilityState!=="hidden"}},dn=new WeakMap,qt=new WeakMap,Qn=new WeakMap,th),Ka=new jg,Yn,Lt,Jn,nh,Ig=(nh=class extends mr{constructor(){super();q(this,Yn,!0);q(this,Lt);q(this,Jn);E(this,Jn,t=>{if(!ur&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){b(this,Lt)||this.setEventListener(b(this,Jn))}onUnsubscribe(){var t;this.hasListeners()||((t=b(this,Lt))==null||t.call(this),E(this,Lt,void 0))}setEventListener(t){var n;E(this,Jn,t),(n=b(this,Lt))==null||n.call(this),E(this,Lt,t(this.setOnline.bind(this)))}setOnline(t){b(this,Yn)!==t&&(E(this,Yn,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return b(this,Yn)}},Yn=new WeakMap,Lt=new WeakMap,Jn=new WeakMap,nh),Ai=new Ig;function ea(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function $g(e){return Math.min(1e3*2**e,3e4)}function dh(e){return(e??"online")==="online"?Ai.isOnline():!0}var gh=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function ph(e){let t=!1,n=0,r;const i=ea(),s=()=>i.status!=="pending",o=m=>{s()||(h(new gh(m)),e.abort?.())},a=()=>{t=!0},u=()=>{t=!1},c=()=>Ka.isFocused()&&(e.networkMode==="always"||Ai.isOnline())&&e.canRun(),l=()=>dh(e.networkMode)&&e.canRun(),f=m=>{s()||(r?.(),i.resolve(m))},h=m=>{s()||(r?.(),i.reject(m))},d=()=>new Promise(m=>{r=g=>{(s()||c())&&m(g)},e.onPause?.()}).then(()=>{r=void 0,s()||e.onContinue?.()}),p=()=>{if(s())return;let m;const g=n===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{if(s())return;const w=e.retry??(ur?0:3),v=e.retryDelay??$g,_=typeof v=="function"?v(n,y):v,S=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,y);if(t||!S){h(y);return}n++,e.onFail?.(n,y),Mg(_).then(()=>c()?void 0:d()).then(()=>{t?h(y):p()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r?.(),i),cancelRetry:a,continueRetry:u,canStart:l,start:()=>(l()?p():d().then(p),i)}}var Dg=e=>setTimeout(e,0);function Ng(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=Dg;const s=a=>{t?e.push(a):i(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;t++;try{u=a()}finally{t--,t||o()}return u},batchCalls:a=>(...u)=>{s(()=>{a(...u)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var ve=Ng(),gn,rh,mh=(rh=class{constructor(){q(this,gn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Yo(this.gcTime)&&E(this,gn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ur?1/0:300*1e3))}clearGcTimeout(){b(this,gn)&&(clearTimeout(b(this,gn)),E(this,gn,void 0))}},gn=new WeakMap,rh),Xn,Zn,qe,pn,me,Qr,mn,Ke,pt,ih,qg=(ih=class extends mh{constructor(t){super();q(this,Ke);q(this,Xn);q(this,Zn);q(this,qe);q(this,pn);q(this,me);q(this,Qr);q(this,mn);E(this,mn,!1),E(this,Qr,t.defaultOptions),this.setOptions(t.options),this.observers=[],E(this,pn,t.client),E(this,qe,b(this,pn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,E(this,Xn,Lg(this.options)),this.state=t.state??b(this,Xn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return b(this,me)?.promise}setOptions(t){this.options={...b(this,Qr),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&b(this,qe).remove(this)}setData(t,n){const r=Zo(this.state.data,t,this.options);return B(this,Ke,pt).call(this,{data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(t,n){B(this,Ke,pt).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){const n=b(this,me)?.promise;return b(this,me)?.cancel(t),n?n.then(Le).catch(Le):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(b(this,Xn))}isActive(){return this.observers.some(t=>Ue(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Oi||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Vt(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!fh(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),b(this,me)?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),b(this,me)?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),b(this,qe).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(b(this,me)&&(b(this,mn)?b(this,me).cancel({revert:!0}):b(this,me).cancelRetry()),this.scheduleGc()),b(this,qe).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||B(this,Ke,pt).call(this,{type:"invalidate"})}async fetch(t,n){if(this.state.fetchStatus!=="idle"&&b(this,me)?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(b(this,me))return b(this,me).continueRetry(),b(this,me).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(c=>c.options.queryFn);u&&this.setOptions(u.options)}Array.isArray(this.options.queryKey)||console.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']");const r=new AbortController,i=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(E(this,mn,!0),r.signal)})},s=()=>{const u=hh(this.options,n),l=(()=>{const f={client:b(this,pn),queryKey:this.queryKey,meta:this.meta};return i(f),f})();return E(this,mn,!1),this.options.persister?this.options.persister(u,l,this):u(l)},a=(()=>{const u={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:b(this,pn),state:this.state,fetchFn:s};return i(u),u})();this.options.behavior?.onFetch(a,this),E(this,Zn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&B(this,Ke,pt).call(this,{type:"fetch",meta:a.fetchOptions?.meta}),E(this,me,ph({initialPromise:n?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onFail:(u,c)=>{B(this,Ke,pt).call(this,{type:"failed",failureCount:u,error:c})},onPause:()=>{B(this,Ke,pt).call(this,{type:"pause"})},onContinue:()=>{B(this,Ke,pt).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const u=await b(this,me).start();if(u===void 0)throw console.error(`Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`),new Error(`${this.queryHash} data is undefined`);return this.setData(u),b(this,qe).config.onSuccess?.(u,this),b(this,qe).config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof gh){if(u.silent)return b(this,me).promise;if(u.revert)return this.setState({...b(this,Zn),fetchStatus:"idle"}),this.state.data}throw B(this,Ke,pt).call(this,{type:"error",error:u}),b(this,qe).config.onError?.(u,this),b(this,qe).config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}},Xn=new WeakMap,Zn=new WeakMap,qe=new WeakMap,pn=new WeakMap,me=new WeakMap,Qr=new WeakMap,mn=new WeakMap,Ke=new WeakSet,pt=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...yh(r.data,this.options),fetchMeta:t.meta??null};case"success":const i={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return E(this,Zn,t.manual?i:void 0),i;case"error":const s=t.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ve.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),b(this,qe).notify({query:this,type:"updated",action:t})})},ih);function yh(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dh(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Lg(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var tt,sh,Ug=(sh=class extends mr{constructor(t={}){super();q(this,tt);this.config=t,E(this,tt,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??Ha(i,n);let o=this.get(s);return o||(o=new qg({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){b(this,tt).has(t.queryHash)||(b(this,tt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=b(this,tt).get(t.queryHash);n&&(t.destroy(),n===t&&b(this,tt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ve.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return b(this,tt).get(t)}getAll(){return[...b(this,tt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Vu(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Vu(t,r)):n}notify(t){ve.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ve.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ve.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},tt=new WeakMap,sh),nt,_e,yn,rt,Rt,oh,Fg=(oh=class extends mh{constructor(t){super();q(this,rt);q(this,nt);q(this,_e);q(this,yn);this.mutationId=t.mutationId,E(this,_e,t.mutationCache),E(this,nt,[]),this.state=t.state||bh(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){b(this,nt).includes(t)||(b(this,nt).push(t),this.clearGcTimeout(),b(this,_e).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){E(this,nt,b(this,nt).filter(n=>n!==t)),this.scheduleGc(),b(this,_e).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){b(this,nt).length||(this.state.status==="pending"?this.scheduleGc():b(this,_e).remove(this))}continue(){return b(this,yn)?.continue()??this.execute(this.state.variables)}async execute(t){const n=()=>{B(this,rt,Rt).call(this,{type:"continue"})};E(this,yn,ph({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{B(this,rt,Rt).call(this,{type:"failed",failureCount:s,error:o})},onPause:()=>{B(this,rt,Rt).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>b(this,_e).canRun(this)}));const r=this.state.status==="pending",i=!b(this,yn).canStart();try{if(r)n();else{B(this,rt,Rt).call(this,{type:"pending",variables:t,isPaused:i}),await b(this,_e).config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&B(this,rt,Rt).call(this,{type:"pending",context:o,variables:t,isPaused:i})}const s=await b(this,yn).start();return await b(this,_e).config.onSuccess?.(s,t,this.state.context,this),await this.options.onSuccess?.(s,t,this.state.context),await b(this,_e).config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,t,this.state.context),B(this,rt,Rt).call(this,{type:"success",data:s}),s}catch(s){try{throw await b(this,_e).config.onError?.(s,t,this.state.context,this),await this.options.onError?.(s,t,this.state.context),await b(this,_e).config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,t,this.state.context),s}finally{B(this,rt,Rt).call(this,{type:"error",error:s})}}finally{b(this,_e).runNext(this)}}},nt=new WeakMap,_e=new WeakMap,yn=new WeakMap,rt=new WeakSet,Rt=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ve.batch(()=>{b(this,nt).forEach(r=>{r.onMutationUpdate(t)}),b(this,_e).notify({mutation:this,type:"updated",action:t})})},oh);function bh(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bt,Ge,Yr,ah,Bg=(ah=class extends mr{constructor(t={}){super();q(this,bt);q(this,Ge);q(this,Yr);this.config=t,E(this,bt,new Set),E(this,Ge,new Map),E(this,Yr,0)}build(t,n,r){const i=new Fg({mutationCache:this,mutationId:++ui(this,Yr)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){b(this,bt).add(t);const n=ci(t);if(typeof n=="string"){const r=b(this,Ge).get(n);r?r.push(t):b(this,Ge).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(b(this,bt).delete(t)){const n=ci(t);if(typeof n=="string"){const r=b(this,Ge).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&b(this,Ge).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=ci(t);if(typeof n=="string"){const i=b(this,Ge).get(n)?.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){const n=ci(t);return typeof n=="string"?b(this,Ge).get(n)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ve.batch(()=>{b(this,bt).forEach(t=>{this.notify({type:"removed",mutation:t})}),b(this,bt).clear(),b(this,Ge).clear()})}getAll(){return Array.from(b(this,bt))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Qu(n,r))}findAll(t={}){return this.getAll().filter(n=>Qu(t,n))}notify(t){ve.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ve.batch(()=>Promise.all(t.map(n=>n.continue().catch(Le))))}},bt=new WeakMap,Ge=new WeakMap,Yr=new WeakMap,ah);function ci(e){return e.options.scope?.id}function Xu(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let l=!1;const f=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(t.signal.aborted?l=!0:t.signal.addEventListener("abort",()=>{l=!0}),t.signal)})},h=hh(t.options,t.fetchOptions),d=async(p,m,g)=>{if(l)return Promise.reject();if(m==null&&p.pages.length)return Promise.resolve(p);const w=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:m,direction:g?"backward":"forward",meta:t.options.meta};return f(k),k})(),v=await h(w),{maxPages:_}=t.options,S=g?Rg:Cg;return{pages:S(p.pages,v,_),pageParams:S(p.pageParams,m,_)}};if(i&&s.length){const p=i==="backward",m=p?Wg:Zu,g={pages:s,pageParams:o},y=m(r,g);a=await d(g,y,p)}else{const p=e??s.length;do{const m=u===0?o[0]??r.initialPageParam:Zu(r,a);if(u>0&&m==null)break;a=await d(a,m),u++}while(u<p)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function Zu(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Wg(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var oe,Ut,Ft,er,tr,Bt,nr,rr,uh,n1=(uh=class{constructor(e={}){q(this,oe);q(this,Ut);q(this,Ft);q(this,er);q(this,tr);q(this,Bt);q(this,nr);q(this,rr);E(this,oe,e.queryCache||new Ug),E(this,Ut,e.mutationCache||new Bg),E(this,Ft,e.defaultOptions||{}),E(this,er,new Map),E(this,tr,new Map),E(this,Bt,0)}mount(){ui(this,Bt)._++,b(this,Bt)===1&&(E(this,nr,Ka.subscribe(async e=>{e&&(await this.resumePausedMutations(),b(this,oe).onFocus())})),E(this,rr,Ai.subscribe(async e=>{e&&(await this.resumePausedMutations(),b(this,oe).onOnline())})))}unmount(){var e,t;ui(this,Bt)._--,b(this,Bt)===0&&((e=b(this,nr))==null||e.call(this),E(this,nr,void 0),(t=b(this,rr))==null||t.call(this),E(this,rr,void 0))}isFetching(e){return b(this,oe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return b(this,Ut).findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return b(this,oe).get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=b(this,oe).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Vt(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return b(this,oe).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=b(this,oe).get(r.queryHash)?.state.data,o=Eg(t,s);if(o!==void 0)return b(this,oe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return ve.batch(()=>b(this,oe).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return b(this,oe).get(t.queryHash)?.state}removeQueries(e){const t=b(this,oe);ve.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=b(this,oe);return ve.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=ve.batch(()=>b(this,oe).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Le).catch(Le)}invalidateQueries(e,t={}){return ve.batch(()=>(b(this,oe).findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=ve.batch(()=>b(this,oe).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Le)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Le)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=b(this,oe).build(this,t);return n.isStaleByTime(Vt(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Le).catch(Le)}fetchInfiniteQuery(e){return e.behavior=Xu(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Le).catch(Le)}ensureInfiniteQueryData(e){return e.behavior=Xu(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ai.isOnline()?b(this,Ut).resumePausedMutations():Promise.resolve()}getQueryCache(){return b(this,oe)}getMutationCache(){return b(this,Ut)}getDefaultOptions(){return b(this,Ft)}setDefaultOptions(e){E(this,Ft,e)}setQueryDefaults(e,t){b(this,er).set(xn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...b(this,er).values()],n={};return t.forEach(r=>{Nr(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){b(this,tr).set(xn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...b(this,tr).values()],n={};return t.forEach(r=>{Nr(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...b(this,Ft).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ha(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Oi&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...b(this,Ft).mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){b(this,oe).clear(),b(this,Ut).clear()}},oe=new WeakMap,Ut=new WeakMap,Ft=new WeakMap,er=new WeakMap,tr=new WeakMap,Bt=new WeakMap,nr=new WeakMap,rr=new WeakMap,uh),Te,G,Jr,Se,bn,ir,Wt,zt,Xr,sr,or,vn,wn,Ht,ar,J,Rr,ta,na,ra,ia,sa,oa,aa,vh,ch,r1=(ch=class extends mr{constructor(t,n){super();q(this,J);q(this,Te);q(this,G);q(this,Jr);q(this,Se);q(this,bn);q(this,ir);q(this,Wt);q(this,zt);q(this,Xr);q(this,sr);q(this,or);q(this,vn);q(this,wn);q(this,Ht);q(this,ar,new Set);this.options=n,E(this,Te,t),E(this,zt,null),E(this,Wt,ea()),this.options.experimental_prefetchInRender||b(this,Wt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(b(this,G).addObserver(this),ec(b(this,G),this.options)?B(this,J,Rr).call(this):this.updateResult(),B(this,J,ia).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ua(b(this,G),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ua(b(this,G),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,B(this,J,sa).call(this),B(this,J,oa).call(this),b(this,G).removeObserver(this)}setOptions(t){const n=this.options,r=b(this,G);if(this.options=b(this,Te).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ue(this.options.enabled,b(this,G))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");B(this,J,aa).call(this),b(this,G).setOptions(this.options),n._defaulted&&!Ti(this.options,n)&&b(this,Te).getQueryCache().notify({type:"observerOptionsUpdated",query:b(this,G),observer:this});const i=this.hasListeners();i&&tc(b(this,G),r,this.options,n)&&B(this,J,Rr).call(this),this.updateResult(),i&&(b(this,G)!==r||Ue(this.options.enabled,b(this,G))!==Ue(n.enabled,b(this,G))||Vt(this.options.staleTime,b(this,G))!==Vt(n.staleTime,b(this,G)))&&B(this,J,ta).call(this);const s=B(this,J,na).call(this);i&&(b(this,G)!==r||Ue(this.options.enabled,b(this,G))!==Ue(n.enabled,b(this,G))||s!==b(this,Ht))&&B(this,J,ra).call(this,s)}getOptimisticResult(t){const n=b(this,Te).getQueryCache().build(b(this,Te),t),r=this.createResult(n,t);return Hg(this,r)&&(E(this,Se,r),E(this,ir,this.options),E(this,bn,b(this,G).state)),r}getCurrentResult(){return b(this,Se)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n?.(i),Reflect.get(r,i))})}trackProp(t){b(this,ar).add(t)}getCurrentQuery(){return b(this,G)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=b(this,Te).defaultQueryOptions(t),r=b(this,Te).getQueryCache().build(b(this,Te),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return B(this,J,Rr).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),b(this,Se)))}createResult(t,n){const r=b(this,G),i=this.options,s=b(this,Se),o=b(this,bn),a=b(this,ir),c=t!==r?t.state:b(this,Jr),{state:l}=t;let f={...l},h=!1,d;if(n._optimisticResults){const D=this.hasListeners(),z=!D&&ec(t,n),M=D&&tc(t,r,n,i);(z||M)&&(f={...f,...yh(l.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:m,status:g}=f;d=f.data;let y=!1;if(n.placeholderData!==void 0&&d===void 0&&g==="pending"){let D;s?.isPlaceholderData&&n.placeholderData===a?.placeholderData?(D=s.data,y=!0):D=typeof n.placeholderData=="function"?n.placeholderData(b(this,or)?.state.data,b(this,or)):n.placeholderData,D!==void 0&&(g="success",d=Zo(s?.data,D,n),h=!0)}if(n.select&&d!==void 0&&!y)if(s&&d===o?.data&&n.select===b(this,Xr))d=b(this,sr);else try{E(this,Xr,n.select),d=n.select(d),d=Zo(s?.data,d,n),E(this,sr,d),E(this,zt,null)}catch(D){E(this,zt,D)}b(this,zt)&&(p=b(this,zt),d=b(this,sr),m=Date.now(),g="error");const w=f.fetchStatus==="fetching",v=g==="pending",_=g==="error",S=v&&w,k=d!==void 0,P={status:g,fetchStatus:f.fetchStatus,isPending:v,isSuccess:g==="success",isError:_,isInitialLoading:S,isLoading:S,data:d,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!v,isLoadingError:_&&!k,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&k,isStale:Ga(t,n),refetch:this.refetch,promise:b(this,Wt),isEnabled:Ue(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const D=N=>{P.status==="error"?N.reject(P.error):P.data!==void 0&&N.resolve(P.data)},z=()=>{const N=E(this,Wt,P.promise=ea());D(N)},M=b(this,Wt);switch(M.status){case"pending":t.queryHash===r.queryHash&&D(M);break;case"fulfilled":(P.status==="error"||P.data!==M.value)&&z();break;case"rejected":(P.status!=="error"||P.error!==M.reason)&&z();break}}return P}updateResult(){const t=b(this,Se),n=this.createResult(b(this,G),this.options);if(E(this,bn,b(this,G).state),E(this,ir,this.options),b(this,bn).data!==void 0&&E(this,or,b(this,G)),Ti(n,t))return;E(this,Se,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!b(this,ar).size)return!0;const o=new Set(s??b(this,ar));return this.options.throwOnError&&o.add("error"),Object.keys(b(this,Se)).some(a=>{const u=a;return b(this,Se)[u]!==t[u]&&o.has(u)})};B(this,J,vh).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&B(this,J,ia).call(this)}},Te=new WeakMap,G=new WeakMap,Jr=new WeakMap,Se=new WeakMap,bn=new WeakMap,ir=new WeakMap,Wt=new WeakMap,zt=new WeakMap,Xr=new WeakMap,sr=new WeakMap,or=new WeakMap,vn=new WeakMap,wn=new WeakMap,Ht=new WeakMap,ar=new WeakMap,J=new WeakSet,Rr=function(t){B(this,J,aa).call(this);let n=b(this,G).fetch(this.options,t);return t?.throwOnError||(n=n.catch(Le)),n},ta=function(){B(this,J,sa).call(this);const t=Vt(this.options.staleTime,b(this,G));if(ur||b(this,Se).isStale||!Yo(t))return;const r=fh(b(this,Se).dataUpdatedAt,t)+1;E(this,vn,setTimeout(()=>{b(this,Se).isStale||this.updateResult()},r))},na=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(b(this,G)):this.options.refetchInterval)??!1},ra=function(t){B(this,J,oa).call(this),E(this,Ht,t),!(ur||Ue(this.options.enabled,b(this,G))===!1||!Yo(b(this,Ht))||b(this,Ht)===0)&&E(this,wn,setInterval(()=>{(this.options.refetchIntervalInBackground||Ka.isFocused())&&B(this,J,Rr).call(this)},b(this,Ht)))},ia=function(){B(this,J,ta).call(this),B(this,J,ra).call(this,B(this,J,na).call(this))},sa=function(){b(this,vn)&&(clearTimeout(b(this,vn)),E(this,vn,void 0))},oa=function(){b(this,wn)&&(clearInterval(b(this,wn)),E(this,wn,void 0))},aa=function(){const t=b(this,Te).getQueryCache().build(b(this,Te),this.options);if(t===b(this,G))return;const n=b(this,G);E(this,G,t),E(this,Jr,t.state),this.hasListeners()&&(n?.removeObserver(this),t.addObserver(this))},vh=function(t){ve.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(b(this,Se))}),b(this,Te).getQueryCache().notify({query:b(this,G),type:"observerResultsUpdated"})})},ch);function zg(e,t){return Ue(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ec(e,t){return zg(e,t)||e.state.data!==void 0&&ua(e,t,t.refetchOnMount)}function ua(e,t,n){if(Ue(t.enabled,e)!==!1&&Vt(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Ga(e,t)}return!1}function tc(e,t,n,r){return(e!==t||Ue(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Ga(e,n)}function Ga(e,t){return Ue(t.enabled,e)!==!1&&e.isStaleByTime(Vt(t.staleTime,e))}function Hg(e,t){return!Ti(e.getCurrentResult(),t)}var Kt,Gt,Oe,vt,kt,xi,ca,lh,i1=(lh=class extends mr{constructor(t,n){super();q(this,kt);q(this,Kt);q(this,Gt);q(this,Oe);q(this,vt);E(this,Kt,t),this.setOptions(n),this.bindMethods(),B(this,kt,xi).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=b(this,Kt).defaultMutationOptions(t),Ti(this.options,n)||b(this,Kt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:b(this,Oe),observer:this}),n?.mutationKey&&this.options.mutationKey&&xn(n.mutationKey)!==xn(this.options.mutationKey)?this.reset():b(this,Oe)?.state.status==="pending"&&b(this,Oe).setOptions(this.options)}onUnsubscribe(){this.hasListeners()||b(this,Oe)?.removeObserver(this)}onMutationUpdate(t){B(this,kt,xi).call(this),B(this,kt,ca).call(this,t)}getCurrentResult(){return b(this,Gt)}reset(){b(this,Oe)?.removeObserver(this),E(this,Oe,void 0),B(this,kt,xi).call(this),B(this,kt,ca).call(this)}mutate(t,n){return E(this,vt,n),b(this,Oe)?.removeObserver(this),E(this,Oe,b(this,Kt).getMutationCache().build(b(this,Kt),this.options)),b(this,Oe).addObserver(this),b(this,Oe).execute(t)}},Kt=new WeakMap,Gt=new WeakMap,Oe=new WeakMap,vt=new WeakMap,kt=new WeakSet,xi=function(){const t=b(this,Oe)?.state??bh();E(this,Gt,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},ca=function(t){ve.batch(()=>{if(b(this,vt)&&this.hasListeners()){const n=b(this,Gt).variables,r=b(this,Gt).context;t?.type==="success"?(b(this,vt).onSuccess?.(t.data,n,r),b(this,vt).onSettled?.(t.data,null,n,r)):t?.type==="error"&&(b(this,vt).onError?.(t.error,n,r),b(this,vt).onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(b(this,Gt))})})},lh);function wh(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=wh(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Kg(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=wh(e))&&(r&&(r+=" "),r+=t);return r}const Va="-",Gg=e=>{const t=Qg(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(Va);return a[0]===""&&a.length!==1&&a.shift(),_h(a,t)||Vg(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},_h=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?_h(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(Va);return t.validators.find(({validator:o})=>o(s))?.classGroupId},nc=/^\[(.+)\]$/,Vg=e=>{if(nc.test(e)){const t=nc.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Qg=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)la(n[i],r,i,t);return r},la=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:rc(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(Yg(i)){la(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{la(o,rc(t,s),n,r)})})},rc=(e,t)=>{let n=e;return t.split(Va).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Yg=e=>e.isThemeGetter,Jg=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},fa="!",ha=":",Xg=ha.length,Zg=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const s=[];let o=0,a=0,u=0,c;for(let p=0;p<i.length;p++){let m=i[p];if(o===0&&a===0){if(m===ha){s.push(i.slice(u,p)),u=p+Xg;continue}if(m==="/"){c=p;continue}}m==="["?o++:m==="]"?o--:m==="("?a++:m===")"&&a--}const l=s.length===0?i:i.substring(u),f=ep(l),h=f!==l,d=c&&c>u?c-u:void 0;return{modifiers:s,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:d}};if(t){const i=t+ha,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},ep=e=>e.endsWith(fa)?e.substring(0,e.length-1):e.startsWith(fa)?e.substring(1):e,tp=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||t[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},np=e=>({cache:Jg(e.cacheSize),parseClassName:Zg(e),sortModifiers:tp(e),...Gg(e)}),rp=/\s+/,ip=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t,o=[],a=e.trim().split(rp);let u="";for(let c=a.length-1;c>=0;c-=1){const l=a[c],{isExternal:f,modifiers:h,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:m}=n(l);if(f){u=l+(u.length>0?" "+u:u);continue}let g=!!m,y=r(g?p.substring(0,m):p);if(!y){if(!g){u=l+(u.length>0?" "+u:u);continue}if(y=r(p),!y){u=l+(u.length>0?" "+u:u);continue}g=!1}const w=s(h).join(":"),v=d?w+fa:w,_=v+y;if(o.includes(_))continue;o.push(_);const S=i(y,g);for(let k=0;k<S.length;++k){const A=S[k];o.push(v+A)}u=l+(u.length>0?" "+u:u)}return u};function sp(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Sh(t))&&(r&&(r+=" "),r+=n);return r}const Sh=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Sh(e[r]))&&(n&&(n+=" "),n+=t);return n};function op(e,...t){let n,r,i,s=o;function o(u){const c=t.reduce((l,f)=>f(l),e());return n=np(c),r=n.cache.get,i=n.cache.set,s=a,a(u)}function a(u){const c=r(u);if(c)return c;const l=ip(u,n);return i(u,l),l}return function(){return s(sp.apply(null,arguments))}}const fe=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},kh=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,xh=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ap=/^\d+\/\d+$/,up=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cp=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lp=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fp=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hp=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rn=e=>ap.test(e),W=e=>!!e&&!Number.isNaN(Number(e)),Mt=e=>!!e&&Number.isInteger(Number(e)),ys=e=>e.endsWith("%")&&W(e.slice(0,-1)),dt=e=>up.test(e),dp=()=>!0,gp=e=>cp.test(e)&&!lp.test(e),Th=()=>!1,pp=e=>fp.test(e),mp=e=>hp.test(e),yp=e=>!I(e)&&!$(e),bp=e=>yr(e,Ph,Th),I=e=>kh.test(e),nn=e=>yr(e,Eh,gp),bs=e=>yr(e,kp,W),ic=e=>yr(e,Oh,Th),vp=e=>yr(e,Ah,mp),li=e=>yr(e,Mh,pp),$=e=>xh.test(e),Tr=e=>br(e,Eh),wp=e=>br(e,xp),sc=e=>br(e,Oh),_p=e=>br(e,Ph),Sp=e=>br(e,Ah),fi=e=>br(e,Mh,!0),yr=(e,t,n)=>{const r=kh.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},br=(e,t,n=!1)=>{const r=xh.exec(e);return r?r[1]?t(r[1]):n:!1},Oh=e=>e==="position"||e==="percentage",Ah=e=>e==="image"||e==="url",Ph=e=>e==="length"||e==="size"||e==="bg-size",Eh=e=>e==="length",kp=e=>e==="number",xp=e=>e==="family-name",Mh=e=>e==="shadow",Tp=()=>{const e=fe("color"),t=fe("font"),n=fe("text"),r=fe("font-weight"),i=fe("tracking"),s=fe("leading"),o=fe("breakpoint"),a=fe("container"),u=fe("spacing"),c=fe("radius"),l=fe("shadow"),f=fe("inset-shadow"),h=fe("text-shadow"),d=fe("drop-shadow"),p=fe("blur"),m=fe("perspective"),g=fe("aspect"),y=fe("ease"),w=fe("animate"),v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[..._(),$,I],k=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],P=()=>[$,I,u],D=()=>[Rn,"full","auto",...P()],z=()=>[Mt,"none","subgrid",$,I],M=()=>["auto",{span:["full",Mt,$,I]},Mt,$,I],N=()=>[Mt,"auto",$,I],V=()=>["auto","min","max","fr",$,I],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],O=()=>["auto",...P()],j=()=>[Rn,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],x=()=>[e,$,I],L=()=>[..._(),sc,ic,{position:[$,I]}],ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ht=()=>["auto","cover","contain",_p,bp,{size:[$,I]}],Ze=()=>[ys,Tr,nn],ue=()=>["","none","full",c,$,I],se=()=>["",W,Tr,nn],ze=()=>["solid","dashed","dotted","double"],oi=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[W,ys,sc,ic],ai=()=>["","none",p,$,I],C=()=>["none",W,$,I],F=()=>["none",W,$,I],K=()=>[W,$,I],T=()=>[Rn,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[dt],breakpoint:[dt],color:[dp],container:[dt],"drop-shadow":[dt],ease:["in","out","in-out"],font:[yp],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[dt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[dt],shadow:[dt],spacing:["px",W],text:[dt],"text-shadow":[dt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Rn,I,$,g]}],container:["container"],columns:[{columns:[W,I,$,a]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Mt,"auto",$,I]}],basis:[{basis:[Rn,"full","auto",a,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[W,Rn,"auto","initial","none",I]}],grow:[{grow:["",W,$,I]}],shrink:[{shrink:["",W,$,I]}],order:[{order:[Mt,"first","last","none",$,I]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:O()}],mx:[{mx:O()}],my:[{my:O()}],ms:[{ms:O()}],me:[{me:O()}],mt:[{mt:O()}],mr:[{mr:O()}],mb:[{mb:O()}],ml:[{ml:O()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:j()}],w:[{w:[a,"screen",...j()]}],"min-w":[{"min-w":[a,"screen","none",...j()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...j()]}],h:[{h:["screen","lh",...j()]}],"min-h":[{"min-h":["screen","lh","none",...j()]}],"max-h":[{"max-h":["screen","lh",...j()]}],"font-size":[{text:["base",n,Tr,nn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,$,bs]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ys,I]}],"font-family":[{font:[wp,I,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,$,I]}],"line-clamp":[{"line-clamp":[W,"none",$,bs]}],leading:[{leading:[s,...P()]}],"list-image":[{"list-image":["none",$,I]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",$,I]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:x()}],"text-color":[{text:x()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ze(),"wavy"]}],"text-decoration-thickness":[{decoration:[W,"from-font","auto",$,nn]}],"text-decoration-color":[{decoration:x()}],"underline-offset":[{"underline-offset":[W,"auto",$,I]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$,I]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$,I]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:L()}],"bg-repeat":[{bg:ne()}],"bg-size":[{bg:ht()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Mt,$,I],radial:["",$,I],conic:[Mt,$,I]},Sp,vp]}],"bg-color":[{bg:x()}],"gradient-from-pos":[{from:Ze()}],"gradient-via-pos":[{via:Ze()}],"gradient-to-pos":[{to:Ze()}],"gradient-from":[{from:x()}],"gradient-via":[{via:x()}],"gradient-to":[{to:x()}],rounded:[{rounded:ue()}],"rounded-s":[{"rounded-s":ue()}],"rounded-e":[{"rounded-e":ue()}],"rounded-t":[{"rounded-t":ue()}],"rounded-r":[{"rounded-r":ue()}],"rounded-b":[{"rounded-b":ue()}],"rounded-l":[{"rounded-l":ue()}],"rounded-ss":[{"rounded-ss":ue()}],"rounded-se":[{"rounded-se":ue()}],"rounded-ee":[{"rounded-ee":ue()}],"rounded-es":[{"rounded-es":ue()}],"rounded-tl":[{"rounded-tl":ue()}],"rounded-tr":[{"rounded-tr":ue()}],"rounded-br":[{"rounded-br":ue()}],"rounded-bl":[{"rounded-bl":ue()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ze(),"hidden","none"]}],"divide-style":[{divide:[...ze(),"hidden","none"]}],"border-color":[{border:x()}],"border-color-x":[{"border-x":x()}],"border-color-y":[{"border-y":x()}],"border-color-s":[{"border-s":x()}],"border-color-e":[{"border-e":x()}],"border-color-t":[{"border-t":x()}],"border-color-r":[{"border-r":x()}],"border-color-b":[{"border-b":x()}],"border-color-l":[{"border-l":x()}],"divide-color":[{divide:x()}],"outline-style":[{outline:[...ze(),"none","hidden"]}],"outline-offset":[{"outline-offset":[W,$,I]}],"outline-w":[{outline:["",W,Tr,nn]}],"outline-color":[{outline:x()}],shadow:[{shadow:["","none",l,fi,li]}],"shadow-color":[{shadow:x()}],"inset-shadow":[{"inset-shadow":["none",f,fi,li]}],"inset-shadow-color":[{"inset-shadow":x()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:x()}],"ring-offset-w":[{"ring-offset":[W,nn]}],"ring-offset-color":[{"ring-offset":x()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":x()}],"text-shadow":[{"text-shadow":["none",h,fi,li]}],"text-shadow-color":[{"text-shadow":x()}],opacity:[{opacity:[W,$,I]}],"mix-blend":[{"mix-blend":[...oi(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oi()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[W]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":x()}],"mask-image-linear-to-color":[{"mask-linear-to":x()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":x()}],"mask-image-t-to-color":[{"mask-t-to":x()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":x()}],"mask-image-r-to-color":[{"mask-r-to":x()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":x()}],"mask-image-b-to-color":[{"mask-b-to":x()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":x()}],"mask-image-l-to-color":[{"mask-l-to":x()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":x()}],"mask-image-x-to-color":[{"mask-x-to":x()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":x()}],"mask-image-y-to-color":[{"mask-y-to":x()}],"mask-image-radial":[{"mask-radial":[$,I]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":x()}],"mask-image-radial-to-color":[{"mask-radial-to":x()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[W]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":x()}],"mask-image-conic-to-color":[{"mask-conic-to":x()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:L()}],"mask-repeat":[{mask:ne()}],"mask-size":[{mask:ht()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",$,I]}],filter:[{filter:["","none",$,I]}],blur:[{blur:ai()}],brightness:[{brightness:[W,$,I]}],contrast:[{contrast:[W,$,I]}],"drop-shadow":[{"drop-shadow":["","none",d,fi,li]}],"drop-shadow-color":[{"drop-shadow":x()}],grayscale:[{grayscale:["",W,$,I]}],"hue-rotate":[{"hue-rotate":[W,$,I]}],invert:[{invert:["",W,$,I]}],saturate:[{saturate:[W,$,I]}],sepia:[{sepia:["",W,$,I]}],"backdrop-filter":[{"backdrop-filter":["","none",$,I]}],"backdrop-blur":[{"backdrop-blur":ai()}],"backdrop-brightness":[{"backdrop-brightness":[W,$,I]}],"backdrop-contrast":[{"backdrop-contrast":[W,$,I]}],"backdrop-grayscale":[{"backdrop-grayscale":["",W,$,I]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[W,$,I]}],"backdrop-invert":[{"backdrop-invert":["",W,$,I]}],"backdrop-opacity":[{"backdrop-opacity":[W,$,I]}],"backdrop-saturate":[{"backdrop-saturate":[W,$,I]}],"backdrop-sepia":[{"backdrop-sepia":["",W,$,I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",$,I]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[W,"initial",$,I]}],ease:[{ease:["linear","initial",y,$,I]}],delay:[{delay:[W,$,I]}],animate:[{animate:["none",w,$,I]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,$,I]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:C()}],"rotate-x":[{"rotate-x":C()}],"rotate-y":[{"rotate-y":C()}],"rotate-z":[{"rotate-z":C()}],scale:[{scale:F()}],"scale-x":[{"scale-x":F()}],"scale-y":[{"scale-y":F()}],"scale-z":[{"scale-z":F()}],"scale-3d":["scale-3d"],skew:[{skew:K()}],"skew-x":[{"skew-x":K()}],"skew-y":[{"skew-y":K()}],transform:[{transform:[$,I,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:T()}],"translate-x":[{"translate-x":T()}],"translate-y":[{"translate-y":T()}],"translate-z":[{"translate-z":T()}],"translate-none":["translate-none"],accent:[{accent:x()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:x()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$,I]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$,I]}],fill:[{fill:["none",...x()]}],"stroke-w":[{stroke:[W,Tr,nn,bs]}],stroke:[{stroke:["none",...x()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},s1=op(Tp),oc=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ac=Kg,o1=(e,t)=>n=>{var r;if(t?.variants==null)return ac(e,n?.class,n?.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(c=>{const l=n?.[c],f=s?.[c];if(l===null)return null;const h=oc(l)||oc(f);return i[c][h]}),a=n&&Object.entries(n).reduce((c,l)=>{let[f,h]=l;return h===void 0||(c[f]=h),c},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,l)=>{let{class:f,className:h,...d}=l;return Object.entries(d).every(p=>{let[m,g]=p;return Array.isArray(g)?g.includes({...s,...a}[m]):{...s,...a}[m]===g})?[...c,f,h]:c},[]);return ac(e,o,u,n?.class,n?.className)},Op=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Zr(async()=>{const{default:r}=await Promise.resolve().then(()=>vr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Qa extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Ap extends Qa{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class uc extends Qa{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class cc extends Qa{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var da;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(da||(da={}));var Pp=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(f){o(f)}}function u(l){try{c(r.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};class Ep{constructor(t,{headers:n={},customFetch:r,region:i=da.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Op(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Pp(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:u}=n;u||(u=this.region);const c=new URL(`${this.url}/${t}`);u&&u!=="any"&&(a["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let l;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const f=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:l}).catch(m=>{throw new Ap(m)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new uc(f);if(!f.ok)throw new cc(f);let d=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return d==="application/json"?p=yield f.json():d==="application/octet-stream"?p=yield f.blob():d==="text/event-stream"?p=f:d==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof cc||i instanceof uc?i.context:void 0}}})}}var pe={},jn={},In={},$n={},Dn={},Nn={},Mp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")},cr=Mp();const Cp=cr.fetch,Ch=cr.fetch.bind(cr),Rh=cr.Headers,Rp=cr.Request,jp=cr.Response,vr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Rh,Request:Rp,Response:jp,default:Ch,fetch:Cp},Symbol.toStringTag,{value:"Module"})),Ip=Ag(vr);var hi={},lc;function jh(){if(lc)return hi;lc=1,Object.defineProperty(hi,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return hi.default=e,hi}var fc;function Ih(){if(fc)return Nn;fc=1;var e=Nn&&Nn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Nn,"__esModule",{value:!0});const t=e(Ip),n=e(jh());class r{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let u=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var l,f,h;let d=null,p=null,m=null,g=c.status,y=c.statusText;if(c.ok){if(this.method!=="HEAD"){const S=await c.text();S===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=S:p=JSON.parse(S))}const v=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),_=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");v&&_&&_.length>1&&(m=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(d={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,g=406,y="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const v=await c.text();try{d=JSON.parse(v),Array.isArray(d)&&c.status===404&&(p=[],d=null,g=200,y="OK")}catch{c.status===404&&v===""?(g=204,y="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((h=d?.details)===null||h===void 0)&&h.includes("0 rows"))&&(d=null,g=200,y="OK"),d&&this.shouldThrowOnError)throw new n.default(d)}return{error:d,data:p,count:m,status:g,statusText:y}});return this.shouldThrowOnError||(u=u.catch(c=>{var l,f,h;return{error:{message:`${(l=c?.name)!==null&&l!==void 0?l:"FetchError"}: ${c?.message}`,details:`${(f=c?.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=c?.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,o)}returns(){return this}overrideTypes(){return this}}return Nn.default=r,Nn}var hc;function $h(){if(hc)return Dn;hc=1;var e=Dn&&Dn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Dn,"__esModule",{value:!0});const t=e(Ih());class n extends t.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:u=a}={}){const c=u?`${u}.order`:"order",l=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${l?`${l},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const u=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:u=!1,format:c="text"}={}){var l;const f=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,u?"wal":null].filter(Boolean).join("|"),h=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${h}"; options=${f};`,c==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Dn.default=n,Dn}var dc;function Ya(){if(dc)return $n;dc=1;var e=$n&&$n.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($n,"__esModule",{value:!0});const t=e($h());class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:a}={}){let u="";a==="plain"?u="pl":a==="phrase"?u="ph":a==="websearch"&&(u="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${u}fts${c}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return $n.default=n,$n}var gc;function Dh(){if(gc)return In;gc=1;var e=In&&In.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(In,"__esModule",{value:!0});const t=e(Ya());class n{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=s,this.schema=o,this.fetch=a}select(i,{head:s=!1,count:o}={}){const a=s?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(l=>/\s/.test(l)&&!u?"":(l==='"'&&(u=!u),l)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const a="POST",u=[];if(this.headers.Prefer&&u.push(this.headers.Prefer),s&&u.push(`count=${s}`),o||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(i)){const c=i.reduce((l,f)=>l.concat(Object.keys(f)),[]);if(c.length>0){const l=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",l.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:u=!0}={}){const c="POST",l=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),u||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(i)){const f=i.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(f.length>0){const h=[...new Set(f)].map(d=>`"${d}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return In.default=n,In}var Or={},Ar={},pc;function $p(){return pc||(pc=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.version=void 0,Ar.version="0.0.0-automated"),Ar}var mc;function Dp(){if(mc)return Or;mc=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.DEFAULT_HEADERS=void 0;const e=$p();return Or.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Or}var yc;function Np(){if(yc)return jn;yc=1;var e=jn&&jn.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(jn,"__esModule",{value:!0});const t=e(Dh()),n=e(Ya()),r=Dp();class i{constructor(o,{headers:a={},schema:u,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=u,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:u=!1,get:c=!1,count:l}={}){let f;const h=new URL(`${this.url}/rpc/${o}`);let d;u||c?(f=u?"HEAD":"GET",Object.entries(a).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{h.searchParams.append(m,g)})):(f="POST",d=a);const p=Object.assign({},this.headers);return l&&(p.Prefer=`count=${l}`),new n.default({method:f,url:h,headers:p,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}}return jn.default=i,jn}var bc;function qp(){if(bc)return pe;bc=1;var e=pe&&pe.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(pe,"__esModule",{value:!0}),pe.PostgrestError=pe.PostgrestBuilder=pe.PostgrestTransformBuilder=pe.PostgrestFilterBuilder=pe.PostgrestQueryBuilder=pe.PostgrestClient=void 0;const t=e(Np());pe.PostgrestClient=t.default;const n=e(Dh());pe.PostgrestQueryBuilder=n.default;const r=e(Ya());pe.PostgrestFilterBuilder=r.default;const i=e($h());pe.PostgrestTransformBuilder=i.default;const s=e(Ih());pe.PostgrestBuilder=s.default;const o=e(jh());return pe.PostgrestError=o.default,pe.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},pe}var Lp=qp();const Up=lt(Lp),{PostgrestClient:Fp,PostgrestQueryBuilder:a1,PostgrestFilterBuilder:u1,PostgrestTransformBuilder:c1,PostgrestBuilder:l1,PostgrestError:f1}=Up;class Bp{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Wp="2.15.1",zp=`realtime-js/${Wp}`,Hp="1.0.0",ga=1e4,Kp=1e3,Gp=100;var Ir;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ir||(Ir={}));var he;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(he||(he={}));var Ve;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ve||(Ve={}));var pa;(function(e){e.websocket="websocket"})(pa||(pa={}));var ln;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ln||(ln={}));class Vp{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const u=r.decode(t.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:u,payload:c}}}class Nh{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ee||(ee={}));const vc=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=Qp(o,e,t,i),s),{})},Qp=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i?.type,o=n[e];return s&&!r.includes(s)?qh(s,o):ma(o)},qh=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Zp(t,n)}switch(e){case ee.bool:return Yp(t);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return Jp(t);case ee.json:case ee.jsonb:return Xp(t);case ee.timestamp:return em(t);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return ma(t);default:return ma(t)}},ma=e=>e,Yp=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Jp=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Xp=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Zp=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>qh(t,a))}return e},em=e=>typeof e=="string"?e.replace(" ","T"):e,Lh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class vs{constructor(t,n,r={},i=ga){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var wc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(wc||(wc={}));class $r{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$r.syncState(this.state,i,s,o),this.pendingDiffs.forEach(u=>{this.state=$r.syncDiff(this.state,u,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=$r.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},u={};return this.map(s,(c,l)=>{o[c]||(u[c]=l)}),this.map(o,(c,l)=>{const f=s[c];if(f){const h=l.map(g=>g.presence_ref),d=f.map(g=>g.presence_ref),p=l.filter(g=>d.indexOf(g.presence_ref)<0),m=f.filter(g=>h.indexOf(g.presence_ref)<0);p.length>0&&(a[c]=p),m.length>0&&(u[c]=m)}else a[c]=l}),this.syncDiff(s,{joins:a,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,u)=>{var c;const l=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(u),l.length>0){const f=t[a].map(d=>d.presence_ref),h=l.filter(d=>f.indexOf(d.presence_ref)<0);t[a].unshift(...h)}r(a,l,u)}),this.map(o,(a,u)=>{let c=t[a];if(!c)return;const l=u.map(f=>f.presence_ref);c=c.filter(f=>l.indexOf(f.presence_ref)<0),t[a]=c,i(a,c,u),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _c;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(_c||(_c={}));var Dr;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Dr||(Dr={}));var yt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yt||(yt={}));class Ja{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=he.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new vs(this,Ve.join,this.params,this.timeout),this.rejoinTimer=new Nh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=he.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=he.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ve.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new $r(this),this.broadcastEndpointURL=Lh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==he.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Dr.PRESENCE]&&this.bindings[Dr.PRESENCE].length>0,l={},f={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this._onError(h=>t?.(yt.CHANNEL_ERROR,h)),this._onClose(()=>t?.(yt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var d;if(this.socket.setAuth(),h===void 0){t?.(yt.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,m=(d=p?.length)!==null&&d!==void 0?d:0,g=[];for(let y=0;y<m;y++){const w=p[y],{filter:{event:v,schema:_,table:S,filter:k}}=w,A=h&&h[y];if(A&&A.event===v&&A.schema===_&&A.table===S&&A.filter===k)g.push(Object.assign(Object.assign({},w),{id:A.id}));else{this.unsubscribe(),this.state=he.errored,t?.(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(yt.SUBSCRIBED);return}}).receive("error",h=>{this.state=he.errored,t?.(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t?.(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===he.joined&&t===Dr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,u;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=he.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ve.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new vs(this,Ve.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=he.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new vs(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Gp){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:u,leave:c,join:l}=Ve;if(r&&[a,u,c,l].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var p,m,g;return((p=d.filter)===null||p===void 0?void 0:p.event)==="*"||((g=(m=d.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(d=>d.callback(h,r)):(s=this.bindings[o])===null||s===void 0||s.filter(d=>{var p,m,g,y,w,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in d){const _=d.id,S=(p=d.filter)===null||p===void 0?void 0:p.event;return _&&((m=n.ids)===null||m===void 0?void 0:m.includes(_))&&(S==="*"||S?.toLocaleLowerCase()===((g=n.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(w=(y=d?.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((v=n?.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===o}).map(d=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:m,table:g,commit_timestamp:y,type:w,errors:v}=p;h=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:y,eventType:w,new:{},old:{},errors:v}),this._getPayloadRecords(p))}d.callback(h,r)})}_isClosed(){return this.state===he.closed}_isJoined(){return this.state===he.joined}_isJoining(){return this.state===he.joining}_isLeaving(){return this.state===he.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Ja.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ve.close,{},t)}_onError(t){this._on(Ve.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=he.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=vc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=vc(t.columns,t.old_record)),n}}const Sc=()=>{},di={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tm=[1e3,2e3,5e3,1e4],nm=1e4,rm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class im{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ga,this.transport=null,this.heartbeatIntervalMs=di.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sc,this.ref=0,this.reconnectTimer=null,this.logger=Sc,this.conn=null,this.sendBuffer=[],this.serializer=new Vp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Zr(async()=>{const{default:a}=await Promise.resolve().then(()=>vr);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${pa.websocket}`,this.httpEndpoint=Lh(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Bp.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Hp}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ir.connecting:return ln.Connecting;case Ir.open:return ln.Open;case Ir.closing:return ln.Closing;default:return ln.Closed}}isConnected(){return this.connectionState()===ln.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Ja(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Kp,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},di.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",u=s.status||"";this.log("receive",`${u} ${r} ${i} ${a}`.trim(),s),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ve.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([rm],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:zp};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ve.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Nh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},di.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,o,a,u,c;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:ga,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:di.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=t?.reconnectAfterMs)!==null&&a!==void 0?a:(l=>tm[l-1]||nm),this.encode=(u=t?.encode)!==null&&u!==void 0?u:((l,f)=>f(JSON.stringify(l))),this.decode=(c=t?.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Xa extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function de(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class sm extends Xa{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ya extends Xa{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var om=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(f){o(f)}}function u(l){try{c(r.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const Uh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Zr(async()=>{const{default:r}=await Promise.resolve().then(()=>vr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},am=()=>om(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zr(()=>Promise.resolve().then(()=>vr),void 0)).Response:Response}),ba=e=>{if(Array.isArray(e))return e.map(n=>ba(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=ba(r)}),t},um=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var En=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(f){o(f)}}function u(l){try{c(r.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const ws=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cm=(e,t,n)=>En(void 0,void 0,void 0,function*(){const r=yield am();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const s=e.status||500,o=i?.statusCode||s+"";t(new sm(ws(i),s,o))}).catch(i=>{t(new ya(ws(i),i))}):t(new ya(ws(e),e))}),lm=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(um(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function ei(e,t,n,r,i,s){return En(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,lm(t,r,i,s)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>cm(u,a,r))})})}function Pi(e,t,n,r){return En(this,void 0,void 0,function*(){return ei(e,"GET",t,n,r)})}function et(e,t,n,r,i){return En(this,void 0,void 0,function*(){return ei(e,"POST",t,r,i,n)})}function va(e,t,n,r,i){return En(this,void 0,void 0,function*(){return ei(e,"PUT",t,r,i,n)})}function fm(e,t,n,r){return En(this,void 0,void 0,function*(){return ei(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Fh(e,t,n,r,i){return En(this,void 0,void 0,function*(){return ei(e,"DELETE",t,r,i,n)})}var we=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(f){o(f)}}function u(l){try{c(r.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const hm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dm{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Uh(i)}uploadOrUpdate(t,n,r,i){return we(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},kc),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),l=this._getFinalPath(c),f=yield(t=="PUT"?va:et)(this.fetch,`${this.url}/object/${l}`,s,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}upload(t,n,r){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return we(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:kc.upsert},i),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,l["cache-control"]=`max-age=${c.cacheControl}`,l["content-type"]=c.contentType);const f=yield va(this.fetch,a.toString(),u,{headers:l});return{data:{path:s,fullPath:f.Key},error:null}}catch(u){if(de(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return we(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const s=yield et(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Xa("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}update(t,n,r){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return we(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}})}copy(t,n,r){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield et(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return we(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield et(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return we(this,void 0,void 0,function*(){try{const i=yield et(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}})}download(t,n){return we(this,void 0,void 0,function*(){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Pi(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(de(a))return{data:null,error:a};throw a}})}info(t){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Pi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ba(r),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}exists(t){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield fm(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(de(r)&&r instanceof ya){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return we(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}list(t,n,r){return we(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},hm),n),{prefix:t||""});return{data:yield et(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}})}listV2(t,n){return we(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield et(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const gm="2.11.0",pm={"X-Client-Info":`storage-js/${gm}`};var qn=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(f){o(f)}}function u(l){try{c(r.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((r=r.apply(e,[])).next())})};class mm{constructor(t,n={},r,i){const s=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},pm),n),this.fetch=Uh(r)}listBuckets(){return qn(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(de(t))return{data:null,error:t};throw t}})}getBucket(t){return qn(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return qn(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return qn(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}emptyBucket(t){return qn(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}deleteBucket(t){return qn(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}}class ym extends mm{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new dm(this.url,this.headers,t,this.fetch)}}const bm="2.55.0";let jr="";typeof Deno<"u"?jr="deno":typeof document<"u"?jr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jr="react-native":jr="node";const vm={"X-Client-Info":`supabase-js-${jr}/${bm}`},wm={headers:vm},_m={schema:"public"},Sm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},km={};var xm=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(f){o(f)}}function u(l){try{c(r.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const Tm=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ch:t=fetch,(...n)=>t(...n)},Om=()=>typeof Headers>"u"?Rh:Headers,Am=(e,t,n)=>{const r=Tm(n),i=Om();return(s,o)=>xm(void 0,void 0,void 0,function*(){var a;const u=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var Pm=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(f){o(f)}}function u(l){try{c(r.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((r=r.apply(e,[])).next())})};function Em(e){return e.endsWith("/")?e:e+"/"}function Mm(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:u,auth:c,realtime:l,global:f}=t,h={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},l),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Pm(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Bh="2.71.1",Hn=30*1e3,wa=3,_s=wa*Hn,Cm="http://localhost:9999",Rm="supabase.auth.token",jm={"X-Client-Info":`gotrue-js/${Bh}`},_a="X-Supabase-Api-Version",Wh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Im=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$m=600*1e3;class Za extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function U(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Dm extends Za{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Nm(e){return U(e)&&e.name==="AuthApiError"}class zh extends Za{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Xt extends Za{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class jt extends Xt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qm(e){return U(e)&&e.name==="AuthSessionMissingError"}class gi extends Xt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pi extends Xt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class mi extends Xt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Lm(e){return U(e)&&e.name==="AuthImplicitGrantRedirectError"}class xc extends Xt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sa extends Xt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ss(e){return U(e)&&e.name==="AuthRetryableFetchError"}class Tc extends Xt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ka extends Xt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ei="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Oc=` 	
\r=`.split(""),Um=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Oc.length;t+=1)e[Oc[t].charCodeAt(0)]=-2;for(let t=0;t<Ei.length;t+=1)e[Ei[t].charCodeAt(0)]=t;return e})();function Ac(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ei[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ei[r]),t.queuedBits-=6}}function Hh(e,t,n){const r=Um[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Pc(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Wm(o,r,n)};for(let o=0;o<e.length;o+=1)Hh(e.charCodeAt(o),i,s);return t.join("")}function Fm(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Bm(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Fm(r,t)}}function Wm(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function zm(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Hh(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Hm(e){const t=[];return Bm(e,n=>t.push(n)),new Uint8Array(t)}function Km(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Ac(i,n,r)),Ac(null,n,r),t.join("")}function Gm(e){return Math.round(Date.now()/1e3)+e}function Vm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const He=()=>typeof window<"u"&&typeof document<"u",rn={tested:!1,writable:!1},Kh=()=>{if(!He())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rn.tested)return rn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),rn.tested=!0,rn.writable=!0}catch{rn.tested=!0,rn.writable=!1}return rn.writable};function Qm(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const Gh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Zr(async()=>{const{default:r}=await Promise.resolve().then(()=>vr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Ym=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Kn=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},sn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ct=async(e,t)=>{await e.removeItem(t)};class Ji{constructor(){this.promise=new Ji.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ji.promiseConstructor=Promise;function ks(e){const t=e.split(".");if(t.length!==3)throw new ka("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Im.test(t[r]))throw new ka("JWT not in base64url format");return{header:JSON.parse(Pc(t[0])),payload:JSON.parse(Pc(t[1])),signature:zm(t[2]),raw:{header:t[0],payload:t[1]}}}async function Jm(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Xm(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function Zm(e){return("0"+e.toString(16)).substr(-2)}function ey(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Zm).join("")}async function ty(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function ny(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await ty(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ln(e,t,n=!1){const r=ey();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Kn(e,`${t}-code-verifier`,i);const s=await ny(r);return[s,r===s?"plain":"s256"]}const ry=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iy(e){const t=e.headers.get(_a);if(!t||!t.match(ry))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function sy(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function oy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ay=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Un(e){if(!ay.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xs(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ec(e){return JSON.parse(JSON.stringify(e))}var uy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const on=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cy=[502,503,504];async function Mc(e){var t;if(!Ym(e))throw new Sa(on(e),0);if(cy.includes(e.status))throw new Sa(on(e),e.status);let n;try{n=await e.json()}catch(s){throw new zh(on(s),s)}let r;const i=iy(e);if(i&&i.getTime()>=Wh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Tc(on(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new jt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Tc(on(n),e.status,n.weak_password.reasons);throw new Dm(on(n),e.status||500,r)}const ly=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function H(e,t,n,r){var i;const s=Object.assign({},r?.headers);s[_a]||(s[_a]=Wh["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await fy(e,t,n+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function fy(e,t,n,r,i,s){const o=ly(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new Sa(on(u),0)}if(a.ok||await Mc(a),r?.noResolveJson)return a;try{return await a.json()}catch(u){await Mc(u)}}function mt(e){var t;let n=null;py(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Gm(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Cc(e){const t=mt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Dt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function hy(e){return{data:e,error:null}}function dy(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=uy(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function gy(e){return e}function py(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ts=["global","local","others"];var my=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class yy{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Gh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Ts[0]){if(Ts.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ts.join(", ")}`);try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Dt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=my(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:dy,redirectTo:n?.redirectTo})}catch(n){if(U(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Dt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},l=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:gy});if(l.error)throw l.error;const f=await l.json(),h=(o=l.headers.get("x-total-count"))!==null&&o!==void 0?o:0,d=(u=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return d.length>0&&(d.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(p.split(";")[1].split("=")[1]);c[`${g}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(U(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Un(t);try{return await H(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Dt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Un(t);try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Dt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Un(t);try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Dt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Un(t.userId);try{const{data:n,error:r}=await H(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(U(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Un(t.userId),Un(t.id);try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}}function Rc(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function by(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fn={debug:!!(globalThis&&Kh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class vy extends Vh{}async function wy(e,t,n){Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new vy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Fn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}by();const _y={url:Cm,storageKey:Rm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function jc(e,t,n){return await n()}const Bn={};class qr{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qr.nextInstanceID,qr.nextInstanceID+=1,this.instanceID>0&&He()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},_y),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new yy({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Gh(i.fetch),this.lock=i.lock||jc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:He()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=wy:this.lock=jc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Kh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Rc(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Rc(this.memoryStorage)),He()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Bn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Bn[this.storageKey]=Object.assign(Object.assign({},Bn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Bn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Bn[this.storageKey]=Object.assign(Object.assign({},Bn[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Qm(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),He()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Lm(s)){const u=(t=s.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return U(n)?{error:n}:{error:new zh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:mt}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:l,password:f,options:h}=t;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await Ln(this.storage,this.storageKey)),s=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:l,password:f,data:(n=h?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:d,code_challenge_method:p},xform:mt})}else if("phone"in t){const{phone:l,password:f,options:h}=t;s=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:l,password:f,data:(r=h?.data)!==null&&r!==void 0?r:{},channel:(i=h?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:mt})}else throw new pi("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Cc})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Cc})}else throw new pi("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new gi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(U(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,a,u,c,l,f,h,d;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:g,wallet:y,statement:w,options:v}=t;let _;if(He())if(typeof y=="object")_=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!v?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const S=new URL((n=v?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v?.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let A;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")A=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)A=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)p=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),m=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=v?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=v?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((u=v?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(l=v?.signInWithSolana)===null||l===void 0?void 0:l.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(p),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=k}}try{const{data:g,error:y}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Km(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:mt});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new gi}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(U(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(t){const n=await sn(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:mt});if(await Ct(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new gi}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(U(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:mt}),{data:u,error:c}=a;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new gi}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(n){if(U(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:u}=t;let c=null,l=null;this.flowType==="pkce"&&([c,l]=await Ln(this.storage,this.storageKey));const{error:f}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:c,code_challenge_method:l},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:u}=t,{data:c,error:l}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:l}}throw new pi("You must provide either an email or phone number.")}catch(a){if(U(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:mt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Ln(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:hy})}catch(s){if(U(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new jt;const{error:i}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(U(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await H(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await H(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new pi("You must provide either an email or phone number and a type")}catch(n){if(U(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await sn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<_s:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await sn(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=xs()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,l)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,l))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Dt}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Dt})})}catch(n){if(U(n))return qm(n)&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new jt;const o=i.session;let a=null,u=null;this.flowType==="pkce"&&t.email!=null&&([a,u]=await Ln(this.storage,this.storageKey));const{data:c,error:l}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:Dt});if(l)throw l;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new jt;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=ks(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:u}=await this._getUser(t.access_token);if(u)throw u;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(U(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new jt;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(U(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!He())throw new mi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new mi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new xc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xc("No code detected.");const{data:w,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=t;if(!s||!a||!o||!c)throw new mi("No session defined in URL");const l=Math.round(Date.now()/1e3),f=parseInt(a);let h=l+f;u&&(h=parseInt(u));const d=h-l;d*1e3<=Hn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${f}s`);const p=h-f;l-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,l):l-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,l);const{data:m,error:g}=await this._getUser(s);if(g)throw g;const y={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(U(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await sn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Nm(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Vm(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ln(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(U(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,u,c,l;const{data:f,error:h}=s;if(h)throw h;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",d,{headers:this.headers,jwt:(l=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&l!==void 0?l:void 0})});if(i)throw i;return He()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(U(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(U(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Xm(async i=>(i>0&&await Jm(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:mt})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Ss(s)&&Date.now()+o-r<Hn})}catch(r){if(this._debug(n,"error",r),U(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),He()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await sn(this.storage,this.storageKey);if(i&&this.userStorage){let o=await sn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Kn(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:xs()}else if(i&&!i.user&&!i.user){const o=await sn(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Ct(this.storage,this.storageKey+"-user"),await Kn(this.storage,this.storageKey,i)):i.user=xs()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<_s;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${_s}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Ss(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ji;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new jt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),U(s)){const o={session:null,error:s};return Ss(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(u){s.push(u)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Kn(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=Ec(i);await Kn(this.storage,this.storageKey,s)}else{const i=Ec(n);await Kn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ct(this.storage,this.storageKey),await Ct(this.storage,this.storageKey+"-code-verifier"),await Ct(this.storage,this.storageKey+"-user"),this.userStorage&&await Ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&He()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Hn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Hn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Hn}ms, refresh threshold is ${wa} ticks`),i<=wa&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Vh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!He()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Ln(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await H(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(U(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await H(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(U(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(U(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(U(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ks(i.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const l=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:l},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+$m>i)return r;const{data:s,error:o}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:d,error:p}=await this.getSession();if(p||!d.session)return{data:null,error:p};r=d.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:u}}=ks(r);n?.allowExpired||sy(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:d}=await this.getUser(r);if(d)throw d;return{data:{claims:s,header:i,signature:o},error:null}}const l=oy(i.alg),f=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!await crypto.subtle.verify(l,f,o,Hm(`${a}.${u}`)))throw new ka("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}}qr.nextInstanceID=0;const Sy=qr;class ky extends Sy{constructor(t){super(t)}}var xy=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(f){o(f)}}function u(l){try{c(r.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((r=r.apply(e,[])).next())})};class Ty{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Em(t),u=new URL(a);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,l={db:_m,realtime:km,auth:Object.assign(Object.assign({},Sm),{storageKey:c}),global:wm},f=Mm(r??{},l);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=Am(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Fp(new URL("rest/v1",u).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new ym(this.storageUrl.href,this.headers,this.fetch,r?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Ep(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return xy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:u},c,l){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ky({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:u,fetch:l,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new im(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const h1=(e,t,n)=>new Ty(e,t,n);function Oy(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Oy()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ay=["top","right","bottom","left"],Yt=Math.min,Ce=Math.max,Mi=Math.round,yi=Math.floor,ot=e=>({x:e,y:e}),Py={left:"right",right:"left",bottom:"top",top:"bottom"},Ey={start:"end",end:"start"};function xa(e,t,n){return Ce(e,Yt(t,n))}function xt(e,t){return typeof e=="function"?e(t):e}function Tt(e){return e.split("-")[0]}function wr(e){return e.split("-")[1]}function eu(e){return e==="x"?"y":"x"}function tu(e){return e==="y"?"height":"width"}const My=new Set(["top","bottom"]);function it(e){return My.has(Tt(e))?"y":"x"}function nu(e){return eu(it(e))}function Cy(e,t,n){n===void 0&&(n=!1);const r=wr(e),i=nu(e),s=tu(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Ci(o)),[o,Ci(o)]}function Ry(e){const t=Ci(e);return[Ta(e),t,Ta(t)]}function Ta(e){return e.replace(/start|end/g,t=>Ey[t])}const Ic=["left","right"],$c=["right","left"],jy=["top","bottom"],Iy=["bottom","top"];function $y(e,t,n){switch(e){case"top":case"bottom":return n?t?$c:Ic:t?Ic:$c;case"left":case"right":return t?jy:Iy;default:return[]}}function Dy(e,t,n,r){const i=wr(e);let s=$y(Tt(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(Ta)))),s}function Ci(e){return e.replace(/left|right|bottom|top/g,t=>Py[t])}function Ny(e){return{top:0,right:0,bottom:0,left:0,...e}}function Qh(e){return typeof e!="number"?Ny(e):{top:e,right:e,bottom:e,left:e}}function Ri(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Dc(e,t,n){let{reference:r,floating:i}=e;const s=it(t),o=nu(t),a=tu(o),u=Tt(t),c=s==="y",l=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let d;switch(u){case"top":d={x:l,y:r.y-i.height};break;case"bottom":d={x:l,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:f};break;case"left":d={x:r.x-i.width,y:f};break;default:d={x:r.x,y:r.y}}switch(wr(t)){case"start":d[o]-=h*(n&&c?-1:1);break;case"end":d[o]+=h*(n&&c?-1:1);break}return d}const qy=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:l,y:f}=Dc(c,r,u),h=r,d={},p=0;for(let m=0;m<a.length;m++){const{name:g,fn:y}=a[m],{x:w,y:v,data:_,reset:S}=await y({x:l,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:d,rects:c,platform:o,elements:{reference:e,floating:t}});l=w??l,f=v??f,d={...d,[g]:{...d[g],..._}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:l,y:f}=Dc(c,h,u)),m=-1)}return{x:l,y:f,placement:h,strategy:i,middlewareData:d}};async function Lr(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=e,{boundary:c="clippingAncestors",rootBoundary:l="viewport",elementContext:f="floating",altBoundary:h=!1,padding:d=0}=xt(t,e),p=Qh(d),g=a[h?f==="floating"?"reference":"floating":f],y=Ri(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:l,strategy:u})),w=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),_=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},S=Ri(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:v,strategy:u}):w);return{top:(y.top-S.top+p.top)/_.y,bottom:(S.bottom-y.bottom+p.bottom)/_.y,left:(y.left-S.left+p.left)/_.x,right:(S.right-y.right+p.right)/_.x}}const Ly=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:u}=t,{element:c,padding:l=0}=xt(e,t)||{};if(c==null)return{};const f=Qh(l),h={x:n,y:r},d=nu(i),p=tu(d),m=await o.getDimensions(c),g=d==="y",y=g?"top":"left",w=g?"bottom":"right",v=g?"clientHeight":"clientWidth",_=s.reference[p]+s.reference[d]-h[d]-s.floating[p],S=h[d]-s.reference[d],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let A=k?k[v]:0;(!A||!await(o.isElement==null?void 0:o.isElement(k)))&&(A=a.floating[v]||s.floating[p]);const P=_/2-S/2,D=A/2-m[p]/2-1,z=Yt(f[y],D),M=Yt(f[w],D),N=z,V=A-m[p]-M,Y=A/2-m[p]/2+P,ae=xa(N,Y,V),O=!u.arrow&&wr(i)!=null&&Y!==ae&&s.reference[p]/2-(Y<N?z:M)-m[p]/2<0,j=O?Y<N?Y-N:Y-V:0;return{[d]:h[d]+j,data:{[d]:ae,centerOffset:Y-ae-j,...O&&{alignmentOffset:j}},reset:O}}}),Uy=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:c}=t,{mainAxis:l=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=xt(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Tt(i),w=it(a),v=Tt(a)===a,_=await(u.isRTL==null?void 0:u.isRTL(c.floating)),S=h||(v||!m?[Ci(a)]:Ry(a)),k=p!=="none";!h&&k&&S.push(...Dy(a,m,p,_));const A=[a,...S],P=await Lr(t,g),D=[];let z=((r=s.flip)==null?void 0:r.overflows)||[];if(l&&D.push(P[y]),f){const Y=Cy(i,o,_);D.push(P[Y[0]],P[Y[1]])}if(z=[...z,{placement:i,overflows:D}],!D.every(Y=>Y<=0)){var M,N;const Y=(((M=s.flip)==null?void 0:M.index)||0)+1,ae=A[Y];if(ae&&(!(f==="alignment"?w!==it(ae):!1)||z.every(x=>it(x.placement)===w?x.overflows[0]>0:!0)))return{data:{index:Y,overflows:z},reset:{placement:ae}};let O=(N=z.filter(j=>j.overflows[0]<=0).sort((j,x)=>j.overflows[1]-x.overflows[1])[0])==null?void 0:N.placement;if(!O)switch(d){case"bestFit":{var V;const j=(V=z.filter(x=>{if(k){const L=it(x.placement);return L===w||L==="y"}return!0}).map(x=>[x.placement,x.overflows.filter(L=>L>0).reduce((L,ne)=>L+ne,0)]).sort((x,L)=>x[1]-L[1])[0])==null?void 0:V[0];j&&(O=j);break}case"initialPlacement":O=a;break}if(i!==O)return{reset:{placement:O}}}return{}}}};function Nc(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function qc(e){return Ay.some(t=>e[t]>=0)}const Fy=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=xt(e,t);switch(r){case"referenceHidden":{const s=await Lr(t,{...i,elementContext:"reference"}),o=Nc(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:qc(o)}}}case"escaped":{const s=await Lr(t,{...i,altBoundary:!0}),o=Nc(s,n.floating);return{data:{escapedOffsets:o,escaped:qc(o)}}}default:return{}}}}},Yh=new Set(["left","top"]);async function By(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Tt(n),a=wr(n),u=it(n)==="y",c=Yh.has(o)?-1:1,l=s&&u?-1:1,f=xt(t,e);let{mainAxis:h,crossAxis:d,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof p=="number"&&(d=a==="end"?p*-1:p),u?{x:d*l,y:h*c}:{x:h*c,y:d*l}}const Wy=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,u=await By(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},zy=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:y,y:w}=g;return{x:y,y:w}}},...u}=xt(e,t),c={x:n,y:r},l=await Lr(t,u),f=it(Tt(i)),h=eu(f);let d=c[h],p=c[f];if(s){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=d+l[g],v=d-l[y];d=xa(w,d,v)}if(o){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=p+l[g],v=p-l[y];p=xa(w,p,v)}const m=a.fn({...t,[h]:d,[f]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:s,[f]:o}}}}}},Hy=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=xt(e,t),l={x:n,y:r},f=it(i),h=eu(f);let d=l[h],p=l[f];const m=xt(a,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(u){const v=h==="y"?"height":"width",_=s.reference[h]-s.floating[v]+g.mainAxis,S=s.reference[h]+s.reference[v]-g.mainAxis;d<_?d=_:d>S&&(d=S)}if(c){var y,w;const v=h==="y"?"width":"height",_=Yh.has(Tt(i)),S=s.reference[f]-s.floating[v]+(_&&((y=o.offset)==null?void 0:y[f])||0)+(_?0:g.crossAxis),k=s.reference[f]+s.reference[v]+(_?0:((w=o.offset)==null?void 0:w[f])||0)-(_?g.crossAxis:0);p<S?p=S:p>k&&(p=k)}return{[h]:d,[f]:p}}}},Ky=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:o,elements:a}=t,{apply:u=()=>{},...c}=xt(e,t),l=await Lr(t,c),f=Tt(i),h=wr(i),d=it(i)==="y",{width:p,height:m}=s.floating;let g,y;f==="top"||f==="bottom"?(g=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,g=h==="end"?"top":"bottom");const w=m-l.top-l.bottom,v=p-l.left-l.right,_=Yt(m-l[g],w),S=Yt(p-l[y],v),k=!t.middlewareData.shift;let A=_,P=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(A=w),k&&!h){const z=Ce(l.left,0),M=Ce(l.right,0),N=Ce(l.top,0),V=Ce(l.bottom,0);d?P=p-2*(z!==0||M!==0?z+M:Ce(l.left,l.right)):A=m-2*(N!==0||V!==0?N+V:Ce(l.top,l.bottom))}await u({...t,availableWidth:P,availableHeight:A});const D=await o.getDimensions(a.floating);return p!==D.width||m!==D.height?{reset:{rects:!0}}:{}}}};function Xi(){return typeof window<"u"}function _r(e){return Jh(e)?(e.nodeName||"").toLowerCase():"#document"}function je(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ft(e){var t;return(t=(Jh(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Jh(e){return Xi()?e instanceof Node||e instanceof je(e).Node:!1}function Ye(e){return Xi()?e instanceof Element||e instanceof je(e).Element:!1}function ut(e){return Xi()?e instanceof HTMLElement||e instanceof je(e).HTMLElement:!1}function Lc(e){return!Xi()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof je(e).ShadowRoot}const Gy=new Set(["inline","contents"]);function ti(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Je(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Gy.has(i)}const Vy=new Set(["table","td","th"]);function Qy(e){return Vy.has(_r(e))}const Yy=[":popover-open",":modal"];function Zi(e){return Yy.some(t=>{try{return e.matches(t)}catch{return!1}})}const Jy=["transform","translate","scale","rotate","perspective"],Xy=["transform","translate","scale","rotate","perspective","filter"],Zy=["paint","layout","strict","content"];function ru(e){const t=iu(),n=Ye(e)?Je(e):e;return Jy.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Xy.some(r=>(n.willChange||"").includes(r))||Zy.some(r=>(n.contain||"").includes(r))}function e0(e){let t=Jt(e);for(;ut(t)&&!lr(t);){if(ru(t))return t;if(Zi(t))return null;t=Jt(t)}return null}function iu(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const t0=new Set(["html","body","#document"]);function lr(e){return t0.has(_r(e))}function Je(e){return je(e).getComputedStyle(e)}function es(e){return Ye(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Jt(e){if(_r(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Lc(e)&&e.host||ft(e);return Lc(t)?t.host:t}function Xh(e){const t=Jt(e);return lr(t)?e.ownerDocument?e.ownerDocument.body:e.body:ut(t)&&ti(t)?t:Xh(t)}function Ur(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Xh(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=je(i);if(s){const a=Oa(o);return t.concat(o,o.visualViewport||[],ti(i)?i:[],a&&n?Ur(a):[])}return t.concat(i,Ur(i,[],n))}function Oa(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Zh(e){const t=Je(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ut(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=Mi(n)!==s||Mi(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function su(e){return Ye(e)?e:e.contextElement}function Gn(e){const t=su(e);if(!ut(t))return ot(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=Zh(t);let o=(s?Mi(n.width):n.width)/r,a=(s?Mi(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const n0=ot(0);function ed(e){const t=je(e);return!iu()||!t.visualViewport?n0:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function r0(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==je(e)?!1:t}function Tn(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=su(e);let o=ot(1);t&&(r?Ye(r)&&(o=Gn(r)):o=Gn(e));const a=r0(s,n,r)?ed(s):ot(0);let u=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,l=i.width/o.x,f=i.height/o.y;if(s){const h=je(s),d=r&&Ye(r)?je(r):r;let p=h,m=Oa(p);for(;m&&r&&d!==p;){const g=Gn(m),y=m.getBoundingClientRect(),w=Je(m),v=y.left+(m.clientLeft+parseFloat(w.paddingLeft))*g.x,_=y.top+(m.clientTop+parseFloat(w.paddingTop))*g.y;u*=g.x,c*=g.y,l*=g.x,f*=g.y,u+=v,c+=_,p=je(m),m=Oa(p)}}return Ri({width:l,height:f,x:u,y:c})}function ts(e,t){const n=es(e).scrollLeft;return t?t.left+n:Tn(ft(e)).left+n}function td(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-ts(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function i0(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=ft(r),a=t?Zi(t.floating):!1;if(r===o||a&&s)return n;let u={scrollLeft:0,scrollTop:0},c=ot(1);const l=ot(0),f=ut(r);if((f||!f&&!s)&&((_r(r)!=="body"||ti(o))&&(u=es(r)),ut(r))){const d=Tn(r);c=Gn(r),l.x=d.x+r.clientLeft,l.y=d.y+r.clientTop}const h=o&&!f&&!s?td(o,u):ot(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+l.x+h.x,y:n.y*c.y-u.scrollTop*c.y+l.y+h.y}}function s0(e){return Array.from(e.getClientRects())}function o0(e){const t=ft(e),n=es(e),r=e.ownerDocument.body,i=Ce(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ce(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+ts(e);const a=-n.scrollTop;return Je(r).direction==="rtl"&&(o+=Ce(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const Uc=25;function a0(e,t){const n=je(e),r=ft(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;const l=iu();(!l||l&&t==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}const c=ts(r);if(c<=0){const l=r.ownerDocument,f=l.body,h=getComputedStyle(f),d=l.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,p=Math.abs(r.clientWidth-f.clientWidth-d);p<=Uc&&(s-=p)}else c<=Uc&&(s+=c);return{width:s,height:o,x:a,y:u}}const u0=new Set(["absolute","fixed"]);function c0(e,t){const n=Tn(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=ut(e)?Gn(e):ot(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,u=i*s.x,c=r*s.y;return{width:o,height:a,x:u,y:c}}function Fc(e,t,n){let r;if(t==="viewport")r=a0(e,n);else if(t==="document")r=o0(ft(e));else if(Ye(t))r=c0(t,n);else{const i=ed(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Ri(r)}function nd(e,t){const n=Jt(e);return n===t||!Ye(n)||lr(n)?!1:Je(n).position==="fixed"||nd(n,t)}function l0(e,t){const n=t.get(e);if(n)return n;let r=Ur(e,[],!1).filter(a=>Ye(a)&&_r(a)!=="body"),i=null;const s=Je(e).position==="fixed";let o=s?Jt(e):e;for(;Ye(o)&&!lr(o);){const a=Je(o),u=ru(o);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&u0.has(i.position)||ti(o)&&!u&&nd(e,o))?r=r.filter(l=>l!==o):i=a,o=Jt(o)}return t.set(e,r),r}function f0(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?Zi(t)?[]:l0(t,this._c):[].concat(n),r],a=o[0],u=o.reduce((c,l)=>{const f=Fc(t,l,i);return c.top=Ce(f.top,c.top),c.right=Yt(f.right,c.right),c.bottom=Yt(f.bottom,c.bottom),c.left=Ce(f.left,c.left),c},Fc(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function h0(e){const{width:t,height:n}=Zh(e);return{width:t,height:n}}function d0(e,t,n){const r=ut(t),i=ft(t),s=n==="fixed",o=Tn(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const u=ot(0);function c(){u.x=ts(i)}if(r||!r&&!s)if((_r(t)!=="body"||ti(i))&&(a=es(t)),r){const d=Tn(t,!0,s,t);u.x=d.x+t.clientLeft,u.y=d.y+t.clientTop}else i&&c();s&&!r&&i&&c();const l=i&&!r&&!s?td(i,a):ot(0),f=o.left+a.scrollLeft-u.x-l.x,h=o.top+a.scrollTop-u.y-l.y;return{x:f,y:h,width:o.width,height:o.height}}function Os(e){return Je(e).position==="static"}function Bc(e,t){if(!ut(e)||Je(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ft(e)===n&&(n=n.ownerDocument.body),n}function rd(e,t){const n=je(e);if(Zi(e))return n;if(!ut(e)){let i=Jt(e);for(;i&&!lr(i);){if(Ye(i)&&!Os(i))return i;i=Jt(i)}return n}let r=Bc(e,t);for(;r&&Qy(r)&&Os(r);)r=Bc(r,t);return r&&lr(r)&&Os(r)&&!ru(r)?n:r||e0(e)||n}const g0=async function(e){const t=this.getOffsetParent||rd,n=this.getDimensions,r=await n(e.floating);return{reference:d0(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function p0(e){return Je(e).direction==="rtl"}const m0={convertOffsetParentRelativeRectToViewportRelativeRect:i0,getDocumentElement:ft,getClippingRect:f0,getOffsetParent:rd,getElementRects:g0,getClientRects:s0,getDimensions:h0,getScale:Gn,isElement:Ye,isRTL:p0};function id(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function y0(e,t){let n=null,r;const i=ft(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const c=e.getBoundingClientRect(),{left:l,top:f,width:h,height:d}=c;if(a||t(),!h||!d)return;const p=yi(f),m=yi(i.clientWidth-(l+h)),g=yi(i.clientHeight-(f+d)),y=yi(l),v={rootMargin:-p+"px "+-m+"px "+-g+"px "+-y+"px",threshold:Ce(0,Yt(1,u))||1};let _=!0;function S(k){const A=k[0].intersectionRatio;if(A!==u){if(!_)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!id(c,e.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(S,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,v)}n.observe(e)}return o(!0),s}function d1(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=su(e),l=i||s?[...c?Ur(c):[],...Ur(t)]:[];l.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const f=c&&a?y0(c,n):null;let h=-1,d=null;o&&(d=new ResizeObserver(y=>{let[w]=y;w&&w.target===c&&d&&(d.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=d)==null||v.observe(t)})),n()}),c&&!u&&d.observe(c),d.observe(t));let p,m=u?Tn(e):null;u&&g();function g(){const y=Tn(e);m&&!id(m,y)&&n(),m=y,p=requestAnimationFrame(g)}return n(),()=>{var y;l.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),f?.(),(y=d)==null||y.disconnect(),d=null,u&&cancelAnimationFrame(p)}}const g1=Wy,p1=zy,m1=Uy,y1=Ky,b1=Fy,v1=Ly,w1=Hy,_1=(e,t,n)=>{const r=new Map,i={platform:m0,...n},s={...i.platform,_c:r};return qy(e,t,{...i,platform:s})};var b0=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Wn=new WeakMap,bi=new WeakMap,vi={},As=0,sd=function(e){return e&&(e.host||sd(e.parentNode))},v0=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=sd(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},w0=function(e,t,n,r){var i=v0(t,Array.isArray(e)?e:[e]);vi[n]||(vi[n]=new WeakMap);var s=vi[n],o=[],a=new Set,u=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var l=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))l(h);else try{var d=h.getAttribute(r),p=d!==null&&d!=="false",m=(Wn.get(h)||0)+1,g=(s.get(h)||0)+1;Wn.set(h,m),s.set(h,g),o.push(h),m===1&&p&&bi.set(h,!0),g===1&&h.setAttribute(n,"true"),p||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return l(t),a.clear(),As++,function(){o.forEach(function(f){var h=Wn.get(f)-1,d=s.get(f)-1;Wn.set(f,h),s.set(f,d),h||(bi.has(f)||f.removeAttribute(r),bi.delete(f)),d||f.removeAttribute(n)}),As--,As||(Wn=new WeakMap,Wn=new WeakMap,bi=new WeakMap,vi={})}},S1=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=b0(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),w0(r,i,n,"aria-hidden")):function(){return null}},Wc=function(){return Wc=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Wc.apply(this,arguments)};function k1(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function x1(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var T1=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};let _0={data:""},S0=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||_0},k0=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,x0=/\/\*[^]*?\*\/|  +/g,zc=/\n+/g,Nt=(e,t)=>{let n="",r="",i="";for(let s in e){let o=e[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?Nt(o,s):s+"{"+Nt(o,s[1]=="k"?"":t)+"}":typeof o=="object"?r+=Nt(o,t?t.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,a):a?a+" "+u:u)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Nt.p?Nt.p(s,o):s+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},gt={},od=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+od(e[n]);return t}return e},T0=(e,t,n,r,i)=>{let s=od(e),o=gt[s]||(gt[s]=(u=>{let c=0,l=11;for(;c<u.length;)l=101*l+u.charCodeAt(c++)>>>0;return"go"+l})(s));if(!gt[o]){let u=s!==e?e:(c=>{let l,f,h=[{}];for(;l=k0.exec(c.replace(x0,""));)l[4]?h.shift():l[3]?(f=l[3].replace(zc," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][l[1]]=l[2].replace(zc," ").trim();return h[0]})(e);gt[o]=Nt(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let a=n&&gt.g?gt.g:null;return n&&(gt.g=gt[o]),((u,c,l,f)=>{f?c.data=c.data.replace(f,u):c.data.indexOf(u)===-1&&(c.data=l?u+c.data:c.data+u)})(gt[o],t,r,a),o},O0=(e,t,n)=>e.reduce((r,i,s)=>{let o=t[s];if(o&&o.call){let a=o(n),u=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=u?"."+u:a&&typeof a=="object"?a.props?"":Nt(a,""):a===!1?"":a}return r+i+(o??"")},"");function ou(e){let t=this||{},n=e.call?e(t.p):e;return T0(n.unshift?n.raw?O0(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,S0(t.target),t.g,t.o,t.k)}let ad,Aa,Pa;ou.bind({g:1});let O1=ou.bind({k:1});function A1(e,t,n,r){Nt.p=t,ad=e,Aa=n,Pa=r}function P1(e,t){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),u=a.className||i.className;n.p=Object.assign({theme:Aa&&Aa()},a),n.o=/ *go\d+/.test(u),a.className=ou.apply(n,r)+(u?" "+u:"");let c=e;return e[0]&&(c=a.as||e,delete a.as),Pa&&c[0]&&Pa(a),ad(c,a)}return i}}var Ps={},Es={},Hc;function A0(){return Hc||(Hc=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Es)),Es}var Ms={},Kc;function ud(){return Kc||(Kc=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Ms)),Ms}var Cs={},Gc;function cd(){return Gc||(Gc=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Cs)),Cs}var Rs={},Vc;function au(){return Vc||(Vc=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let s=0,o="",a="",u=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const c=n[s];a?c==="\\"&&s+1<i?(s++,o+=n[s]):c===a?a="":o+=c:u?c==='"'||c==="'"?a=c:c==="]"?(u=!1,r.push(o),o=""):o+=c:c==="["?(u=!0,o&&(r.push(o),o="")):c==="."?o&&(r.push(o),o=""):o+=c,s++}return o&&r.push(o),r}e.toPath=t})(Rs)),Rs}var Qc;function uu(){return Qc||(Qc=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A0(),n=ud(),r=cd(),i=au();function s(a,u,c){if(a==null)return c;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return c;const l=a[u];return l===void 0?n.isDeepKey(u)?s(a,i.toPath(u),c):c:l}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const l=a[u];return l===void 0?c:l}default:{if(Array.isArray(u))return o(a,u,c);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return c;const l=a[u];return l===void 0?c:l}}}function o(a,u,c){if(u.length===0)return c;let l=a;for(let f=0;f<u.length;f++){if(l==null||t.isUnsafeProperty(u[f]))return c;l=l[u[f]]}return l===void 0?c:l}e.get=s})(Ps)),Ps}var js,Yc;function P0(){return Yc||(Yc=1,js=uu().get),js}var E0=P0();const E1=lt(E0);function te(e){return function(){return e}}const ld=Math.cos,ji=Math.sin,Xe=Math.sqrt,Ii=Math.PI,ns=2*Ii,Ea=Math.PI,Ma=2*Ea,an=1e-6,M0=Ma-an;function fd(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function C0(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return fd;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class R0{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?fd:C0(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,u=r-t,c=i-n,l=o-t,f=a-n,h=l*l+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>an)if(!(Math.abs(f*u-c*l)>an)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let d=r-o,p=i-a,m=u*u+c*c,g=d*d+p*p,y=Math.sqrt(m),w=Math.sqrt(h),v=s*Math.tan((Ea-Math.acos((m+h-g)/(2*y*w)))/2),_=v/w,S=v/y;Math.abs(_-1)>an&&this._append`L${t+_*l},${n+_*f}`,this._append`A${s},${s},0,0,${+(f*d>l*p)},${this._x1=t+S*u},${this._y1=n+S*c}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),c=t+a,l=n+u,f=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>an||Math.abs(this._y1-l)>an)&&this._append`L${c},${l}`,r&&(h<0&&(h=h%Ma+Ma),h>M0?this._append`A${r},${r},0,1,${f},${t-a},${n-u}A${r},${r},0,1,${f},${this._x1=c},${this._y1=l}`:h>an&&this._append`A${r},${r},0,${+(h>=Ea)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function cu(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new R0(t)}function lu(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hd(e){this._context=e}hd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function dd(e){return new hd(e)}function gd(e){return e[0]}function pd(e){return e[1]}function j0(e,t){var n=te(!0),r=null,i=dd,s=null,o=cu(a);e=typeof e=="function"?e:e===void 0?gd:te(e),t=typeof t=="function"?t:t===void 0?pd:te(t);function a(u){var c,l=(u=lu(u)).length,f,h=!1,d;for(r==null&&(s=i(d=o())),c=0;c<=l;++c)!(c<l&&n(f=u[c],c,u))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,c,u),+t(f,c,u));if(d)return s=null,d+""||null}return a.x=function(u){return arguments.length?(e=typeof u=="function"?u:te(+u),a):e},a.y=function(u){return arguments.length?(t=typeof u=="function"?u:te(+u),a):t},a.defined=function(u){return arguments.length?(n=typeof u=="function"?u:te(!!u),a):n},a.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),a):i},a.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),a):r},a}function M1(e,t,n){var r=null,i=te(!0),s=null,o=dd,a=null,u=cu(c);e=typeof e=="function"?e:e===void 0?gd:te(+e),t=typeof t=="function"?t:te(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?pd:te(+n);function c(f){var h,d,p,m=(f=lu(f)).length,g,y=!1,w,v=new Array(m),_=new Array(m);for(s==null&&(a=o(w=u())),h=0;h<=m;++h){if(!(h<m&&i(g=f[h],h,f))===y)if(y=!y)d=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=h-1;p>=d;--p)a.point(v[p],_[p]);a.lineEnd(),a.areaEnd()}y&&(v[h]=+e(g,h,f),_[h]=+t(g,h,f),a.point(r?+r(g,h,f):v[h],n?+n(g,h,f):_[h]))}if(w)return a=null,w+""||null}function l(){return j0().defined(i).curve(o).context(s)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:te(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:te(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:te(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:te(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:te(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:te(+f),c):n},c.lineX0=c.lineY0=function(){return l().x(e).y(t)},c.lineY1=function(){return l().x(e).y(n)},c.lineX1=function(){return l().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:te(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,s!=null&&(a=o(s)),c):o},c.context=function(f){return arguments.length?(f==null?s=a=null:a=o(s=f),c):s},c}class md{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function C1(e){return new md(e,!0)}function R1(e){return new md(e,!1)}const I0={draw(e,t){const n=Xe(t/Ii);e.moveTo(n,0),e.arc(0,0,n,0,ns)}},j1={draw(e,t){const n=Xe(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},yd=Xe(1/3),$0=yd*2,I1={draw(e,t){const n=Xe(t/$0),r=n*yd;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},$1={draw(e,t){const n=Xe(t),r=-n/2;e.rect(r,r,n,n)}},D0=.8908130915292852,bd=ji(Ii/10)/ji(7*Ii/10),N0=ji(ns/10)*bd,q0=-ld(ns/10)*bd,D1={draw(e,t){const n=Xe(t*D0),r=N0*n,i=q0*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const o=ns*s/5,a=ld(o),u=ji(o);e.lineTo(u*n,-a*n),e.lineTo(a*r-u*i,u*r+a*i)}e.closePath()}},Is=Xe(3),N1={draw(e,t){const n=-Xe(t/(Is*3));e.moveTo(0,n*2),e.lineTo(-Is*n,-n),e.lineTo(Is*n,-n),e.closePath()}},De=-.5,Ne=Xe(3)/2,Ca=1/Xe(12),L0=(Ca/2+1)*3,q1={draw(e,t){const n=Xe(t/L0),r=n/2,i=n*Ca,s=r,o=n*Ca+n,a=-s,u=o;e.moveTo(r,i),e.lineTo(s,o),e.lineTo(a,u),e.lineTo(De*r-Ne*i,Ne*r+De*i),e.lineTo(De*s-Ne*o,Ne*s+De*o),e.lineTo(De*a-Ne*u,Ne*a+De*u),e.lineTo(De*r+Ne*i,De*i-Ne*r),e.lineTo(De*s+Ne*o,De*o-Ne*s),e.lineTo(De*a+Ne*u,De*u-Ne*a),e.closePath()}};function L1(e,t){let n=null,r=cu(i);e=typeof e=="function"?e:te(e||I0),t=typeof t=="function"?t:te(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:te(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:te(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function $i(){}function Di(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function vd(e){this._context=e}vd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Di(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Di(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function U1(e){return new vd(e)}function wd(e){this._context=e}wd.prototype={areaStart:$i,areaEnd:$i,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Di(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function F1(e){return new wd(e)}function _d(e){this._context=e}_d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Di(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B1(e){return new _d(e)}function Sd(e){this._context=e}Sd.prototype={areaStart:$i,areaEnd:$i,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function W1(e){return new Sd(e)}function Jc(e){return e<0?-1:1}function Xc(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(Jc(s)+Jc(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function Zc(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function $s(e,t,n){var r=e._x0,i=e._y0,s=e._x1,o=e._y1,a=(s-r)/3;e._context.bezierCurveTo(r+a,i+a*t,s-a,o-a*n,s,o)}function Ni(e){this._context=e}Ni.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$s(this,this._t0,Zc(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$s(this,Zc(this,n=Xc(this,e,t)),n);break;default:$s(this,this._t0,n=Xc(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function kd(e){this._context=new xd(e)}(kd.prototype=Object.create(Ni.prototype)).point=function(e,t){Ni.prototype.point.call(this,t,e)};function xd(e){this._context=e}xd.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function z1(e){return new Ni(e)}function H1(e){return new kd(e)}function Td(e){this._context=e}Td.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=el(e),i=el(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function el(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function K1(e){return new Td(e)}function rs(e,t){this._context=e,this._t=t}rs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function G1(e){return new rs(e,.5)}function V1(e){return new rs(e,0)}function Q1(e){return new rs(e,1)}function Fr(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,a=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function tl(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function U0(e,t){return e[t]}function F0(e){const t=[];return t.key=e,t}function Y1(){var e=te([]),t=tl,n=Fr,r=U0;function i(s){var o=Array.from(e.apply(this,arguments),F0),a,u=o.length,c=-1,l;for(const f of s)for(a=0,++c;a<u;++a)(o[a][c]=[0,+r(f,o[a].key,c,s)]).data=f;for(a=0,l=lu(t(o));a<u;++a)o[l[a]].index=a;return n(o,l),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:te(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:te(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?tl:typeof s=="function"?s:te(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??Fr,i):n},i}function J1(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Fr(e,t)}}function X1(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=e[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}Fr(e,t)}}function Z1(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,u=0,c=0;a<o;++a){for(var l=e[t[a]],f=l[r][1]||0,h=l[r-1][1]||0,d=(f-h)/2,p=0;p<a;++p){var m=e[t[p]],g=m[r][1]||0,y=m[r-1][1]||0;d+=g-y}u+=f,c+=d*f}i[r-1][1]+=i[r-1][0]=n,u&&(n-=c/u)}i[r-1][1]+=i[r-1][0]=n,Fr(e,t)}}var Ds={},Ns={},nl;function B0(){return nl||(nl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let s=0;s<n.length;s++){const o=n[s],a=r(o);i.has(a)||i.set(a,o)}return Array.from(i.values())}e.uniqBy=t})(Ns)),Ns}var qs={},rl;function Od(){return rl||(rl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(qs)),qs}var Ls={},Us={},Fs={},il;function W0(){return il||(il=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Fs)),Fs}var sl;function fu(){return sl||(sl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W0();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Us)),Us}var Bs={},ol;function z0(){return ol||(ol=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Bs)),Bs}var al;function H0(){return al||(al=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fu(),n=z0();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Ls)),Ls}var Ws={},zs={},ul;function K0(){return ul||(ul=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uu();function n(r){return function(i){return t.get(i,r)}}e.property=n})(zs)),zs}var Hs={},Ks={},Gs={},Vs={},cl;function Ad(){return cl||(cl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Vs)),Vs}var Qs={},ll;function Pd(){return ll||(ll=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Qs)),Qs}var Ys={},fl;function hu(){return fl||(fl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(Ys)),Ys}var hl;function G0(){return hl||(hl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=du(),n=Ad(),r=Pd(),i=hu();function s(f,h,d){return typeof d!="function"?t.isMatch(f,h):o(f,h,function p(m,g,y,w,v,_){const S=d(m,g,y,w,v,_);return S!==void 0?!!S:o(m,g,p,_)},new Map)}function o(f,h,d,p){if(h===f)return!0;switch(typeof h){case"object":return a(f,h,d,p);case"function":return Object.keys(h).length>0?o(f,{...h},d,p):i.eq(f,h);default:return n.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function a(f,h,d,p){if(h==null)return!0;if(Array.isArray(h))return c(f,h,d,p);if(h instanceof Map)return u(f,h,d,p);if(h instanceof Set)return l(f,h,d,p);const m=Object.keys(h);if(f==null)return m.length===0;if(m.length===0)return!0;if(p&&p.has(h))return p.get(h)===f;p&&p.set(h,f);try{for(let g=0;g<m.length;g++){const y=m[g];if(!r.isPrimitive(f)&&!(y in f)||h[y]===void 0&&f[y]!==void 0||h[y]===null&&f[y]!==null||!d(f[y],h[y],y,f,h,p))return!1}return!0}finally{p&&p.delete(h)}}function u(f,h,d,p){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[m,g]of h.entries()){const y=f.get(m);if(d(y,g,m,f,h,p)===!1)return!1}return!0}function c(f,h,d,p){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const m=new Set;for(let g=0;g<h.length;g++){const y=h[g];let w=!1;for(let v=0;v<f.length;v++){if(m.has(v))continue;const _=f[v];let S=!1;if(d(_,y,g,f,h,p)&&(S=!0),S){m.add(v),w=!0;break}}if(!w)return!1}return!0}function l(f,h,d,p){return h.size===0?!0:f instanceof Set?c([...f],[...h],d,p):!1}e.isMatchWith=s,e.isSetMatch=l})(Gs)),Gs}var dl;function du(){return dl||(dl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G0();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Ks)),Ks}var Js={},Xs={},Zs={},gl;function Ed(){return gl||(gl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Zs)),Zs}var eo={},pl;function gu(){return pl||(pl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(eo)),eo}var to={},ml;function pu(){return ml||(ml=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",o="[object Symbol]",a="[object Date]",u="[object Map]",c="[object Set]",l="[object Array]",f="[object Function]",h="[object ArrayBuffer]",d="[object Object]",p="[object Error]",m="[object DataView]",g="[object Uint8Array]",y="[object Uint8ClampedArray]",w="[object Uint16Array]",v="[object Uint32Array]",_="[object BigUint64Array]",S="[object Int8Array]",k="[object Int16Array]",A="[object Int32Array]",P="[object BigInt64Array]",D="[object Float32Array]",z="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=l,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=_,e.booleanTag=i,e.dataViewTag=m,e.dateTag=a,e.errorTag=p,e.float32ArrayTag=D,e.float64ArrayTag=z,e.functionTag=f,e.int16ArrayTag=k,e.int32ArrayTag=A,e.int8ArrayTag=S,e.mapTag=u,e.numberTag=r,e.objectTag=d,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=w,e.uint32ArrayTag=v,e.uint8ArrayTag=g,e.uint8ClampedArrayTag=y})(to)),to}var no={},yl;function V0(){return yl||(yl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(no)),no}var bl;function Md(){return bl||(bl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ed(),n=gu(),r=pu(),i=Pd(),s=V0();function o(l,f){return a(l,void 0,l,new Map,f)}function a(l,f,h,d=new Map,p=void 0){const m=p?.(l,f,h,d);if(m!==void 0)return m;if(i.isPrimitive(l))return l;if(d.has(l))return d.get(l);if(Array.isArray(l)){const g=new Array(l.length);d.set(l,g);for(let y=0;y<l.length;y++)g[y]=a(l[y],y,h,d,p);return Object.hasOwn(l,"index")&&(g.index=l.index),Object.hasOwn(l,"input")&&(g.input=l.input),g}if(l instanceof Date)return new Date(l.getTime());if(l instanceof RegExp){const g=new RegExp(l.source,l.flags);return g.lastIndex=l.lastIndex,g}if(l instanceof Map){const g=new Map;d.set(l,g);for(const[y,w]of l)g.set(y,a(w,y,h,d,p));return g}if(l instanceof Set){const g=new Set;d.set(l,g);for(const y of l)g.add(a(y,void 0,h,d,p));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(l))return l.subarray();if(s.isTypedArray(l)){const g=new(Object.getPrototypeOf(l)).constructor(l.length);d.set(l,g);for(let y=0;y<l.length;y++)g[y]=a(l[y],y,h,d,p);return g}if(l instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&l instanceof SharedArrayBuffer)return l.slice(0);if(l instanceof DataView){const g=new DataView(l.buffer.slice(0),l.byteOffset,l.byteLength);return d.set(l,g),u(g,l,h,d,p),g}if(typeof File<"u"&&l instanceof File){const g=new File([l],l.name,{type:l.type});return d.set(l,g),u(g,l,h,d,p),g}if(l instanceof Blob){const g=new Blob([l],{type:l.type});return d.set(l,g),u(g,l,h,d,p),g}if(l instanceof Error){const g=new l.constructor;return d.set(l,g),g.message=l.message,g.name=l.name,g.stack=l.stack,g.cause=l.cause,u(g,l,h,d,p),g}if(typeof l=="object"&&c(l)){const g=Object.create(Object.getPrototypeOf(l));return d.set(l,g),u(g,l,h,d,p),g}return l}function u(l,f,h=l,d,p){const m=[...Object.keys(f),...t.getSymbols(f)];for(let g=0;g<m.length;g++){const y=m[g],w=Object.getOwnPropertyDescriptor(l,y);(w==null||w.writable)&&(l[y]=a(f[y],y,h,d,p))}}function c(l){switch(n.getTag(l)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=a,e.copyProperties=u})(Xs)),Xs}var vl;function Q0(){return vl||(vl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Md();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Js)),Js}var wl;function Y0(){return wl||(wl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=du(),n=Q0();function r(i){return i=n.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=r})(Hs)),Hs}var ro={},io={},so={},_l;function J0(){return _l||(_l=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Md(),n=pu();function r(i,s){return t.cloneDeepWith(i,(o,a,u,c)=>{const l=s?.(o,a,u,c);if(l!==void 0)return l;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new i.constructor(i?.valueOf());return t.copyProperties(f,i),f}case n.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=r})(so)),so}var Sl;function X0(){return Sl||(Sl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J0();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(io)),io}var oo={},ao={},kl;function Cd(){return kl||(kl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(ao)),ao}var uo={},xl;function Z0(){return xl||(xl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gu();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(uo)),uo}var Tl;function eb(){return Tl||(Tl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ud(),n=Cd(),r=Z0(),i=au();function s(o,a){let u;if(Array.isArray(a)?u=a:typeof a=="string"&&t.isDeepKey(a)&&o?.[a]==null?u=i.toPath(a):u=[a],u.length===0)return!1;let c=o;for(let l=0;l<u.length;l++){const f=u[l];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=s})(oo)),oo}var Ol;function tb(){return Ol||(Ol=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=du(),n=cd(),r=X0(),i=uu(),s=eb();function o(a,u){switch(typeof a){case"object":{Object.is(a?.valueOf(),-0)&&(a="-0");break}case"number":{a=n.toKey(a);break}}return u=r.cloneDeep(u),function(c){const l=i.get(c,a);return l===void 0?s.has(c,a):u===void 0?l===void 0:t.isMatch(l,u)}}e.matchesProperty=o})(ro)),ro}var Al;function nb(){return Al||(Al=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Od(),n=K0(),r=Y0(),i=tb();function s(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=s})(Ws)),Ws}var Pl;function rb(){return Pl||(Pl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B0(),n=Od(),r=H0(),i=nb();function s(o,a=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(a)):[]}e.uniqBy=s})(Ds)),Ds}var co,El;function ib(){return El||(El=1,co=rb().uniqBy),co}var sb=ib();const eS=lt(sb);var ob=(e,t,n)=>{if(t.length===1&&t[0]===n){let r=!1;try{const i={};e(i)===i&&(r=!0)}catch{}if(r){let i;try{throw new Error}catch(s){({stack:i}=s)}console.warn(`The result function returned its own inputs without modification. e.g
\`createSelector([state => state.todos], todos => todos)\`
This could lead to inefficient memoization and unnecessary re-renders.
Ensure transformation logic is in the result function, and extraction logic is in the input selectors.`,{stack:i})}}},ab=(e,t,n)=>{const{memoize:r,memoizeOptions:i}=t,{inputSelectorResults:s,inputSelectorResultsCopy:o}=e,a=r(()=>({}),...i);if(!(a.apply(null,s)===a.apply(null,o))){let c;try{throw new Error}catch(l){({stack:c}=l)}console.warn(`An input selector returned a different result when passed same arguments.
This means your output selector will likely run more frequently than intended.
Avoid returning a new reference inside your input selector, e.g.
\`createSelector([state => state.todos.map(todo => todo.id)], todoIds => todoIds.length)\``,{arguments:n,firstInputs:s,secondInputs:o,stack:c})}},ub={inputStabilityCheck:"once",identityFunctionCheck:"once"};function cb(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function lb(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function fb(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Ml=e=>Array.isArray(e)?e:[e];function hb(e){const t=Array.isArray(e[0])?e[0]:e;return fb(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Cl(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var db=(e,t)=>{const{identityFunctionCheck:n,inputStabilityCheck:r}={...ub,...t};return{identityFunctionCheck:{shouldRun:n==="always"||n==="once"&&e,run:ob},inputStabilityCheck:{shouldRun:r==="always"||r==="once"&&e,run:ab}}},gb=class{constructor(e){this.value=e}deref(){return this.value}},pb=typeof WeakRef<"u"?WeakRef:gb,mb=0,Rl=1;function wi(){return{s:mb,v:void 0,o:null,p:null}}function Rd(e,t={}){let n=wi();const{resultEqualityCheck:r}=t;let i,s=0;function o(){let a=n;const{length:u}=arguments;for(let f=0,h=u;f<h;f++){const d=arguments[f];if(typeof d=="function"||typeof d=="object"&&d!==null){let p=a.o;p===null&&(a.o=p=new WeakMap);const m=p.get(d);m===void 0?(a=wi(),p.set(d,a)):a=m}else{let p=a.p;p===null&&(a.p=p=new Map);const m=p.get(d);m===void 0?(a=wi(),p.set(d,a)):a=m}}const c=a;let l;if(a.s===Rl)l=a.v;else if(l=e.apply(null,arguments),s++,r){const f=i?.deref?.()??i;f!=null&&r(f,l)&&(l=f,s!==0&&s--),i=typeof l=="object"&&l!==null||typeof l=="function"?new pb(l):l}return c.s=Rl,c.v=l,l}return o.clearCache=()=>{n=wi(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function yb(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,o=0,a,u={},c=i.pop();typeof c=="object"&&(u=c,c=i.pop()),cb(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const l={...n,...u},{memoize:f,memoizeOptions:h=[],argsMemoize:d=Rd,argsMemoizeOptions:p=[],devModeChecks:m={}}=l,g=Ml(h),y=Ml(p),w=hb(i),v=f(function(){return s++,c.apply(null,arguments)},...g);let _=!0;const S=d(function(){o++;const A=Cl(w,arguments);a=v.apply(null,A);{const{identityFunctionCheck:P,inputStabilityCheck:D}=db(_,m);if(P.shouldRun&&P.run(c,A,a),D.shouldRun){const z=Cl(w,arguments);D.run({inputSelectorResults:A,inputSelectorResultsCopy:z},{memoize:f,memoizeOptions:g},arguments)}_&&(_=!1)}return a},...y);return Object.assign(S,{resultFunc:c,memoizedResultFunc:v,dependencies:w,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:d})};return Object.assign(r,{withTypes:()=>r}),r}var bb=yb(Rd),vb=Object.assign((e,t=bb)=>{lb(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,a,u)=>(o[n[u]]=a,o),{}))},{withTypes:()=>vb}),lo={},fo={},ho={},jl;function wb(){return jl||(jl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const o=t(r),a=t(i);if(o===a&&o===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?a-o:o-a}return 0};e.compareValues=n})(ho)),ho}var go={},po={},Il;function jd(){return Il||(Il=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(po)),po}var $l;function _b(){return $l||($l=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jd(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=i})(go)),go}var Dl;function Sb(){return Dl||(Dl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wb(),n=_b(),r=au();function i(s,o,a,u){if(s==null)return[];a=u?void 0:a,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(d=>String(d));const c=(d,p)=>{let m=d;for(let g=0;g<p.length&&m!=null;++g)m=m[p[g]];return m},l=(d,p)=>p==null||d==null?p:typeof d=="object"&&"key"in d?Object.hasOwn(p,d.key)?p[d.key]:c(p,d.path):typeof d=="function"?d(p):Array.isArray(d)?c(p,d):typeof p=="object"?p[d]:p,f=o.map(d=>(Array.isArray(d)&&d.length===1&&(d=d[0]),d==null||typeof d=="function"||Array.isArray(d)||n.isKey(d)?d:{key:d,path:r.toPath(d)}));return s.map(d=>({original:d,criteria:f.map(p=>l(p,d))})).slice().sort((d,p)=>{for(let m=0;m<f.length;m++){const g=t.compareValues(d.criteria[m],p.criteria[m],a[m]);if(g!==0)return g}return 0}).map(d=>d.original)}e.orderBy=i})(fo)),fo}var mo={},Nl;function kb(){return Nl||(Nl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],s=Math.floor(r),o=(a,u)=>{for(let c=0;c<a.length;c++){const l=a[c];Array.isArray(l)&&u<s?o(l,u+1):i.push(l)}};return o(n,0),i}e.flatten=t})(mo)),mo}var yo={},ql;function Id(){return ql||(ql=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cd(),n=fu(),r=Ad(),i=hu();function s(o,a,u){return r.isObject(u)&&(typeof a=="number"&&n.isArrayLike(u)&&t.isIndex(a)&&a<u.length||typeof a=="string"&&a in u)?i.eq(u[a],o):!1}e.isIterateeCall=s})(yo)),yo}var Ll;function xb(){return Ll||(Ll=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sb(),n=kb(),r=Id();function i(s,...o){const a=o.length;return a>1&&r.isIterateeCall(s,o[0],o[1])?o=[]:a>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,n.flatten(o),["asc"])}e.sortBy=i})(lo)),lo}var bo,Ul;function Tb(){return Ul||(Ul=1,bo=xb().sortBy),bo}var Ob=Tb();const tS=lt(Ob);var Ab=typeof Symbol=="function"&&Symbol.observable||"@@observable",Fl=Ab,vo=()=>Math.random().toString(36).substring(7).split("").join("."),Pb={INIT:`@@redux/INIT${vo()}`,REPLACE:`@@redux/REPLACE${vo()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${vo()}`},_n=Pb;function mu(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Eb(e){if(e===void 0)return"undefined";if(e===null)return"null";const t=typeof e;switch(t){case"boolean":case"string":case"number":case"symbol":case"function":return t}if(Array.isArray(e))return"array";if(Rb(e))return"date";if(Cb(e))return"error";const n=Mb(e);switch(n){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return n}return Object.prototype.toString.call(e).slice(8,-1).toLowerCase().replace(/\s/g,"")}function Mb(e){return typeof e.constructor=="function"?e.constructor.name:null}function Cb(e){return e instanceof Error||typeof e.message=="string"&&e.constructor&&typeof e.constructor.stackTraceLimit=="number"}function Rb(e){return e instanceof Date?!0:typeof e.toDateString=="function"&&typeof e.getDate=="function"&&typeof e.setDate=="function"}function It(e){let t=typeof e;return t=Eb(e),t}function jb(e,t,n){if(typeof e!="function")throw new Error(`Expected the root reducer to be a function. Instead, received: '${It(e)}'`);if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.");if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(`Expected the enhancer to be a function. Instead, received: '${It(n)}'`);return n(jb)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,u=!1;function c(){o===s&&(o=new Map,s.forEach((g,y)=>{o.set(y,g)}))}function l(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function f(g){if(typeof g!="function")throw new Error(`Expected the listener to be a function. Instead, received: '${It(g)}'`);if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");let y=!0;c();const w=a++;return o.set(w,g),function(){if(y){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");y=!1,c(),o.delete(w),s=null}}}function h(g){if(!mu(g))throw new Error(`Actions must be plain objects. Instead, the actual type was: '${It(g)}'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.`);if(typeof g.type>"u")throw new Error('Actions may not have an undefined "type" property. You may have misspelled an action type string constant.');if(typeof g.type!="string")throw new Error(`Action "type" property must be a string. Instead, the actual type was: '${It(g.type)}'. Value was: '${g.type}' (stringified)`);if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,i=r(i,g)}finally{u=!1}return(s=o).forEach(w=>{w()}),g}function d(g){if(typeof g!="function")throw new Error(`Expected the nextReducer to be a function. Instead, received: '${It(g)}`);r=g,h({type:_n.REPLACE})}function p(){const g=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(`Expected the observer to be an object. Instead, received: '${It(y)}'`);function w(){const _=y;_.next&&_.next(l())}return w(),{unsubscribe:g(w)}},[Fl](){return this}}}return h({type:_n.INIT}),{dispatch:h,subscribe:f,getState:l,replaceReducer:d,[Fl]:p}}function Bl(e){typeof console<"u"&&typeof console.error=="function"&&console.error(e);try{throw new Error(e)}catch{}}function Ib(e,t,n,r){const i=Object.keys(t),s=n&&n.type===_n.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(i.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!mu(e))return`The ${s} has unexpected type of "${It(e)}". Expected argument to be an object with the following keys: "${i.join('", "')}"`;const o=Object.keys(e).filter(a=>!t.hasOwnProperty(a)&&!r[a]);if(o.forEach(a=>{r[a]=!0}),!(n&&n.type===_n.REPLACE)&&o.length>0)return`Unexpected ${o.length>1?"keys":"key"} "${o.join('", "')}" found in ${s}. Expected to find one of the known reducer keys instead: "${i.join('", "')}". Unexpected keys will be ignored.`}function $b(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:_n.INIT})>"u")throw new Error(`The slice reducer for key "${t}" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.`);if(typeof n(void 0,{type:_n.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(`The slice reducer for key "${t}" returned undefined when probed with a random type. Don't try to handle '${_n.INIT}' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.`)})}function nS(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const a=t[o];typeof e[a]>"u"&&Bl(`No reducer provided for key "${a}"`),typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let i;i={};let s;try{$b(n)}catch(o){s=o}return function(a={},u){if(s)throw s;{const f=Ib(a,n,u,i);f&&Bl(f)}let c=!1;const l={};for(let f=0;f<r.length;f++){const h=r[f],d=n[h],p=a[h],m=d(p,u);if(typeof m>"u"){const g=u&&u.type;throw new Error(`When called with an action of type ${g?`"${String(g)}"`:"(unknown type)"}, the slice reducer for key "${h}" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.`)}l[h]=m,c=c||m!==p}return c=c||r.length!==Object.keys(a).length,c?l:a}}function Db(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function rS(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")};const o={getState:i.getState,dispatch:(u,...c)=>s(u,...c)},a=e.map(u=>u(o));return s=Db(...a)(i.dispatch),{...i,dispatch:s}}}function iS(e){return mu(e)&&"type"in e&&typeof e.type=="string"}var $d=Symbol.for("immer-nothing"),Wl=Symbol.for("immer-draftable"),Ie=Symbol.for("immer-state"),Nb=[function(e){return`The plugin for '${e}' has not been loaded into Immer. To enable the plugin, import and call \`enable${e}()\` when initializing your application.`},function(e){return`produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${e}'`},"This object has been frozen and should not be mutated",function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.","Immer forbids circular references","The first or second argument to `produce` must be a function","The third argument to `produce` must be a function or undefined","First argument to `createDraft` must be a plain object, an array, or an immerable object","First argument to `finishDraft` must be a draft returned by `createDraft`",function(e){return`'current' expects a draft, got: ${e}`},"Object.defineProperty() cannot be used on an Immer draft","Object.setPrototypeOf() cannot be used on an Immer draft","Immer only supports deleting array indices","Immer only supports setting array indices and the 'length' property",function(e){return`'original' expects a draft, got: ${e}`}];function Ae(e,...t){{const n=Nb[e],r=typeof n=="function"?n.apply(null,t):n;throw new Error(`[Immer] ${r}`)}}var fr=Object.getPrototypeOf;function hr(e){return!!e&&!!e[Ie]}function On(e){return e?Dd(e)||Array.isArray(e)||!!e[Wl]||!!e.constructor?.[Wl]||ss(e)||os(e):!1}var qb=Object.prototype.constructor.toString();function Dd(e){if(!e||typeof e!="object")return!1;const t=fr(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===qb}function qi(e,t){is(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function is(e){const t=e[Ie];return t?t.type_:Array.isArray(e)?1:ss(e)?2:os(e)?3:0}function Ra(e,t){return is(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Nd(e,t,n){const r=is(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Lb(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ss(e){return e instanceof Map}function os(e){return e instanceof Set}function un(e){return e.copy_||e.base_}function ja(e,t){if(ss(e))return new Map(e);if(os(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Dd(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ie];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(fr(e),r)}else{const r=fr(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function yu(e,t=!1){return as(e)||hr(e)||!On(e)||(is(e)>1&&(e.set=e.add=e.clear=e.delete=Ub),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>yu(r,!0))),e}function Ub(){Ae(2)}function as(e){return Object.isFrozen(e)}var Fb={};function An(e){const t=Fb[e];return t||Ae(0,e),t}var Br;function qd(){return Br}function Bb(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function zl(e,t){t&&(An("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ia(e){$a(e),e.drafts_.forEach(Wb),e.drafts_=null}function $a(e){e===Br&&(Br=e.parent_)}function Hl(e){return Br=Bb(Br,e)}function Wb(e){const t=e[Ie];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Kl(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ie].modified_&&(Ia(t),Ae(4)),On(e)&&(e=Li(t,e),t.parent_||Ui(t,e)),t.patches_&&An("Patches").generateReplacementPatches_(n[Ie].base_,e,t.patches_,t.inversePatches_)):e=Li(t,n,[]),Ia(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==$d?e:void 0}function Li(e,t,n){if(as(t))return t;const r=t[Ie];if(!r)return qi(t,(i,s)=>Gl(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Ui(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),qi(s,(a,u)=>Gl(e,r,i,a,u,n,o)),Ui(e,i,!1),n&&e.patches_&&An("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Gl(e,t,n,r,i,s,o){if(i===n&&Ae(5),hr(i)){const a=s&&t&&t.type_!==3&&!Ra(t.assigned_,r)?s.concat(r):void 0,u=Li(e,i,a);if(Nd(n,r,u),hr(u))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(On(i)&&!as(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Li(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Ui(e,i)}}function Ui(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&yu(t,n)}function zb(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:qd(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=bu;n&&(i=[r],s=Wr);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var bu={get(e,t){if(t===Ie)return e;const n=un(e);if(!Ra(n,t))return Hb(e,n,t);const r=n[t];return e.finalized_||!On(r)?r:r===wo(e.base_,t)?(_o(e),e.copy_[t]=Na(r,e)):r},has(e,t){return t in un(e)},ownKeys(e){return Reflect.ownKeys(un(e))},set(e,t,n){const r=Ld(un(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=wo(un(e),t),s=i?.[Ie];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Lb(n,i)&&(n!==void 0||Ra(e.base_,t)))return!0;_o(e),Da(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return wo(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,_o(e),Da(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=un(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ae(11)},getPrototypeOf(e){return fr(e.base_)},setPrototypeOf(){Ae(12)}},Wr={};qi(bu,(e,t)=>{Wr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Wr.deleteProperty=function(e,t){return isNaN(parseInt(t))&&Ae(13),Wr.set.call(this,e,t,void 0)};Wr.set=function(e,t,n){return t!=="length"&&isNaN(parseInt(t))&&Ae(14),bu.set.call(this,e[0],t,n,e[0])};function wo(e,t){const n=e[Ie];return(n?un(n):e)[t]}function Hb(e,t,n){const r=Ld(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function Ld(e,t){if(!(t in e))return;let n=fr(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=fr(n)}}function Da(e){e.modified_||(e.modified_=!0,e.parent_&&Da(e.parent_))}function _o(e){e.copy_||(e.copy_=ja(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Kb=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(u=s,...c){return o.produce(u,l=>n.call(this,l,...c))}}typeof n!="function"&&Ae(6),r!==void 0&&typeof r!="function"&&Ae(7);let i;if(On(t)){const s=Hl(this),o=Na(t,void 0);let a=!0;try{i=n(o),a=!1}finally{a?Ia(s):$a(s)}return zl(s,r),Kl(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===$d&&(i=void 0),this.autoFreeze_&&yu(i,!0),r){const s=[],o=[];An("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else Ae(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,u=>t(u,...a));let r,i;return[this.produce(t,n,(o,a)=>{r=o,i=a}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){On(e)||Ae(8),hr(e)&&(e=Gb(e));const t=Hl(this),n=Na(e,void 0);return n[Ie].isManual_=!0,$a(t),n}finishDraft(e,t){const n=e&&e[Ie];(!n||!n.isManual_)&&Ae(9);const{scope_:r}=n;return zl(r,t),Kl(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=An("Patches").applyPatches_;return hr(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Na(e,t){const n=ss(e)?An("MapSet").proxyMap_(e,t):os(e)?An("MapSet").proxySet_(e,t):zb(e,t);return(t?t.scope_:qd()).drafts_.push(n),n}function Gb(e){return hr(e)||Ae(10,e),Ud(e)}function Ud(e){if(!On(e)||as(e))return e;const t=e[Ie];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ja(e,t.scope_.immer_.useStrictShallowCopy_)}else n=ja(e,!0);return qi(n,(r,i)=>{Nd(n,r,Ud(i))}),t&&(t.finalized_=!1),n}var $e=new Kb,sS=$e.produce;$e.produceWithPatches.bind($e);$e.setAutoFreeze.bind($e);$e.setUseStrictShallowCopy.bind($e);$e.applyPatches.bind($e);$e.createDraft.bind($e);$e.finishDraft.bind($e);function oS(e){return e}function Fd(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var aS=Fd(),uS=Fd,So={},ko={},xo={},Vl;function Vb(){return Vl||(Vl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t})(xo)),xo}var Ql;function Qb(){return Ql||(Ql=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vb(),n=Ed(),r=gu(),i=pu(),s=hu();function o(c,l,f){return a(c,l,void 0,void 0,void 0,void 0,f)}function a(c,l,f,h,d,p,m){const g=m(c,l,f,h,d,p);if(g!==void 0)return g;if(typeof c==typeof l)switch(typeof c){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return c===l;case"number":return c===l||Object.is(c,l);case"function":return c===l;case"object":return u(c,l,p,m)}return u(c,l,p,m)}function u(c,l,f,h){if(Object.is(c,l))return!0;let d=r.getTag(c),p=r.getTag(l);if(d===i.argumentsTag&&(d=i.objectTag),p===i.argumentsTag&&(p=i.objectTag),d!==p)return!1;switch(d){case i.stringTag:return c.toString()===l.toString();case i.numberTag:{const y=c.valueOf(),w=l.valueOf();return s.eq(y,w)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(c.valueOf(),l.valueOf());case i.regexpTag:return c.source===l.source&&c.flags===l.flags;case i.functionTag:return c===l}f=f??new Map;const m=f.get(c),g=f.get(l);if(m!=null&&g!=null)return m===l;f.set(c,l),f.set(l,c);try{switch(d){case i.mapTag:{if(c.size!==l.size)return!1;for(const[y,w]of c.entries())if(!l.has(y)||!a(w,l.get(y),y,c,l,f,h))return!1;return!0}case i.setTag:{if(c.size!==l.size)return!1;const y=Array.from(c.values()),w=Array.from(l.values());for(let v=0;v<y.length;v++){const _=y[v],S=w.findIndex(k=>a(_,k,void 0,c,l,f,h));if(S===-1)return!1;w.splice(S,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(c)!==Buffer.isBuffer(l)||c.length!==l.length)return!1;for(let y=0;y<c.length;y++)if(!a(c[y],l[y],y,c,l,f,h))return!1;return!0}case i.arrayBufferTag:return c.byteLength!==l.byteLength?!1:u(new Uint8Array(c),new Uint8Array(l),f,h);case i.dataViewTag:return c.byteLength!==l.byteLength||c.byteOffset!==l.byteOffset?!1:u(new Uint8Array(c),new Uint8Array(l),f,h);case i.errorTag:return c.name===l.name&&c.message===l.message;case i.objectTag:{if(!(u(c.constructor,l.constructor,f,h)||t.isPlainObject(c)&&t.isPlainObject(l)))return!1;const w=[...Object.keys(c),...n.getSymbols(c)],v=[...Object.keys(l),...n.getSymbols(l)];if(w.length!==v.length)return!1;for(let _=0;_<w.length;_++){const S=w[_],k=c[S];if(!Object.hasOwn(l,S))return!1;const A=l[S];if(!a(k,A,S,c,l,f,h))return!1}return!0}default:return!1}}finally{f.delete(c),f.delete(l)}}e.isEqualWith=o})(ko)),ko}var To={},Yl;function Yb(){return Yl||(Yl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(To)),To}var Jl;function Jb(){return Jl||(Jl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qb(),n=Yb();function r(i,s){return t.isEqualWith(i,s,n.noop)}e.isEqual=r})(So)),So}var Oo,Xl;function Xb(){return Xl||(Xl=1,Oo=Jb().isEqual),Oo}var Zb=Xb();const cS=lt(Zb);var Ao={},Po={},Eo={},Zl;function ev(){return Zl||(Zl=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jd();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Eo)),Eo}var ef;function tv(){return ef||(ef=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ev();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Po)),Po}var tf;function nv(){return tf||(tf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Id(),n=tv();function r(i,s,o){o&&typeof o!="number"&&t.isIterateeCall(i,s,o)&&(s=o=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),o=o===void 0?i<s?1:-1:n.toFinite(o);const a=Math.max(Math.ceil((s-i)/(o||1)),0),u=new Array(a);for(let c=0;c<a;c++)u[c]=i,i+=o;return u}e.range=r})(Ao)),Ao}var Mo,nf;function rv(){return nf||(nf=1,Mo=nv().range),Mo}var iv=rv();const lS=lt(iv);function Qt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sv(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vu(e){let t,n,r;e.length!==2?(t=Qt,n=(a,u)=>Qt(e(a),u),r=(a,u)=>e(a)-u):(t=e===Qt||e===sv?e:ov,n=e,r=e);function i(a,u,c=0,l=a.length){if(c<l){if(t(u,u)!==0)return l;do{const f=c+l>>>1;n(a[f],u)<0?c=f+1:l=f}while(c<l)}return c}function s(a,u,c=0,l=a.length){if(c<l){if(t(u,u)!==0)return l;do{const f=c+l>>>1;n(a[f],u)<=0?c=f+1:l=f}while(c<l)}return c}function o(a,u,c=0,l=a.length){const f=i(a,u,c,l-1);return f>c&&r(a[f-1],u)>-r(a[f],u)?f-1:f}return{left:i,center:o,right:s}}function ov(){return 0}function Bd(e){return e===null?NaN:+e}function*av(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const uv=vu(Qt),ni=uv.right;vu(Bd).center;class rf extends Map{constructor(t,n=fv){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(sf(this,t))}has(t){return super.has(sf(this,t))}set(t,n){return super.set(cv(this,t),n)}delete(t){return super.delete(lv(this,t))}}function sf({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function cv({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function lv({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function fv(e){return e!==null&&typeof e=="object"?e.valueOf():e}function hv(e=Qt){if(e===Qt)return Wd;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Wd(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const dv=Math.sqrt(50),gv=Math.sqrt(10),pv=Math.sqrt(2);function Fi(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=dv?10:s>=gv?5:s>=pv?2:1;let a,u,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(e*c),u=Math.round(t*c),a/c<e&&++a,u/c>t&&--u,c=-c):(c=Math.pow(10,i)*o,a=Math.round(e/c),u=Math.round(t/c),a*c<e&&++a,u*c>t&&--u),u<a&&.5<=n&&n<2?Fi(e,t,n*2):[a,u,c]}function qa(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?Fi(t,e,n):Fi(e,t,n);if(!(s>=i))return[];const a=s-i+1,u=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)u[c]=(s-c)/-o;else for(let c=0;c<a;++c)u[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)u[c]=(i+c)/-o;else for(let c=0;c<a;++c)u[c]=(i+c)*o;return u}function La(e,t,n){return t=+t,e=+e,n=+n,Fi(e,t,n)[2]}function Ua(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?La(t,e,n):La(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function of(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function af(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function zd(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Wd:hv(i);r>n;){if(r-n>600){const u=r-n+1,c=t-n+1,l=Math.log(u),f=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*f*(u-f)/u)*(c-u/2<0?-1:1),d=Math.max(n,Math.floor(t-c*f/u+h)),p=Math.min(r,Math.floor(t+(u-c)*f/u+h));zd(e,t,d,p,i)}const s=e[t];let o=n,a=r;for(Pr(e,n,t),i(e[r],s)>0&&Pr(e,n,r);o<a;){for(Pr(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}i(e[n],s)===0?Pr(e,n,a):(++a,Pr(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function Pr(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function mv(e,t,n){if(e=Float64Array.from(av(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return af(e);if(t>=1)return of(e);var r,i=(r-1)*t,s=Math.floor(i),o=of(zd(e,s).subarray(0,s+1)),a=af(e.subarray(s+1));return o+(a-o)*(i-s)}}function yv(e,t,n=Bd){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),o=+n(e[s],s,e),a=+n(e[s+1],s+1,e);return o+(a-o)*(i-s)}}function bv(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function We(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Et(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Fa=Symbol("implicit");function wu(){var e=new rf,t=[],n=[],r=Fa;function i(s){let o=e.get(s);if(o===void 0){if(r!==Fa)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new rf;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return wu(t,n).unknown(r)},We.apply(i,arguments),i}function _u(){var e=wu().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,u=0,c=0,l=.5;delete e.unknown;function f(){var h=t().length,d=i<r,p=d?i:r,m=d?r:i;s=(m-p)/Math.max(1,h-u+c*2),a&&(s=Math.floor(s)),p+=(m-p-s*(h-u))*l,o=s*(1-u),a&&(p=Math.round(p),o=Math.round(o));var g=bv(h).map(function(y){return p+s*y});return n(d?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(a=!!h,f()):a},e.padding=function(h){return arguments.length?(u=Math.min(1,c=+h),f()):u},e.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),f()):u},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(l=Math.max(0,Math.min(1,h)),f()):l},e.copy=function(){return _u(t(),[r,i]).round(a).paddingInner(u).paddingOuter(c).align(l)},We.apply(f(),arguments)}function Hd(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Hd(t())},e}function vv(){return Hd(_u.apply(null,arguments).paddingInner(1))}function Su(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Kd(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ri(){}var zr=.7,Bi=1/zr,Vn="\\s*([+-]?\\d+)\\s*",Hr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",at="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wv=/^#([0-9a-f]{3,8})$/,_v=new RegExp(`^rgb\\(${Vn},${Vn},${Vn}\\)$`),Sv=new RegExp(`^rgb\\(${at},${at},${at}\\)$`),kv=new RegExp(`^rgba\\(${Vn},${Vn},${Vn},${Hr}\\)$`),xv=new RegExp(`^rgba\\(${at},${at},${at},${Hr}\\)$`),Tv=new RegExp(`^hsl\\(${Hr},${at},${at}\\)$`),Ov=new RegExp(`^hsla\\(${Hr},${at},${at},${Hr}\\)$`),uf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Su(ri,Kr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cf,formatHex:cf,formatHex8:Av,formatHsl:Pv,formatRgb:lf,toString:lf});function cf(){return this.rgb().formatHex()}function Av(){return this.rgb().formatHex8()}function Pv(){return Gd(this).formatHsl()}function lf(){return this.rgb().formatRgb()}function Kr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=wv.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ff(t):n===3?new Pe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_i(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_i(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_v.exec(e))?new Pe(t[1],t[2],t[3],1):(t=Sv.exec(e))?new Pe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kv.exec(e))?_i(t[1],t[2],t[3],t[4]):(t=xv.exec(e))?_i(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Tv.exec(e))?gf(t[1],t[2]/100,t[3]/100,1):(t=Ov.exec(e))?gf(t[1],t[2]/100,t[3]/100,t[4]):uf.hasOwnProperty(e)?ff(uf[e]):e==="transparent"?new Pe(NaN,NaN,NaN,0):null}function ff(e){return new Pe(e>>16&255,e>>8&255,e&255,1)}function _i(e,t,n,r){return r<=0&&(e=t=n=NaN),new Pe(e,t,n,r)}function Ev(e){return e instanceof ri||(e=Kr(e)),e?(e=e.rgb(),new Pe(e.r,e.g,e.b,e.opacity)):new Pe}function Ba(e,t,n,r){return arguments.length===1?Ev(e):new Pe(e,t,n,r??1)}function Pe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Su(Pe,Ba,Kd(ri,{brighter(e){return e=e==null?Bi:Math.pow(Bi,e),new Pe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?zr:Math.pow(zr,e),new Pe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pe(Sn(this.r),Sn(this.g),Sn(this.b),Wi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hf,formatHex:hf,formatHex8:Mv,formatRgb:df,toString:df}));function hf(){return`#${fn(this.r)}${fn(this.g)}${fn(this.b)}`}function Mv(){return`#${fn(this.r)}${fn(this.g)}${fn(this.b)}${fn((isNaN(this.opacity)?1:this.opacity)*255)}`}function df(){const e=Wi(this.opacity);return`${e===1?"rgb(":"rgba("}${Sn(this.r)}, ${Sn(this.g)}, ${Sn(this.b)}${e===1?")":`, ${e})`}`}function Wi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Sn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function fn(e){return e=Sn(e),(e<16?"0":"")+e.toString(16)}function gf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Qe(e,t,n,r)}function Gd(e){if(e instanceof Qe)return new Qe(e.h,e.s,e.l,e.opacity);if(e instanceof ri||(e=Kr(e)),!e)return new Qe;if(e instanceof Qe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new Qe(o,a,u,e.opacity)}function Cv(e,t,n,r){return arguments.length===1?Gd(e):new Qe(e,t,n,r??1)}function Qe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Su(Qe,Cv,Kd(ri,{brighter(e){return e=e==null?Bi:Math.pow(Bi,e),new Qe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?zr:Math.pow(zr,e),new Qe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Pe(Co(e>=240?e-240:e+120,i,r),Co(e,i,r),Co(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Qe(pf(this.h),Si(this.s),Si(this.l),Wi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wi(this.opacity);return`${e===1?"hsl(":"hsla("}${pf(this.h)}, ${Si(this.s)*100}%, ${Si(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pf(e){return e=(e||0)%360,e<0?e+360:e}function Si(e){return Math.max(0,Math.min(1,e||0))}function Co(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ku=e=>()=>e;function Rv(e,t){return function(n){return e+n*t}}function jv(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Iv(e){return(e=+e)==1?Vd:function(t,n){return n-t?jv(t,n,e):ku(isNaN(t)?n:t)}}function Vd(e,t){var n=t-e;return n?Rv(e,n):ku(isNaN(e)?t:e)}const mf=(function e(t){var n=Iv(t);function r(i,s){var o=n((i=Ba(i)).r,(s=Ba(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),c=Vd(i.opacity,s.opacity);return function(l){return i.r=o(l),i.g=a(l),i.b=u(l),i.opacity=c(l),i+""}}return r.gamma=e,r})(1);function $v(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function Dv(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Nv(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Sr(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function qv(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function zi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Lv(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Sr(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Wa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ro=new RegExp(Wa.source,"g");function Uv(e){return function(){return e}}function Fv(e){return function(t){return e(t)+""}}function Bv(e,t){var n=Wa.lastIndex=Ro.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(e=e+"",t=t+"";(r=Wa.exec(e))&&(i=Ro.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:zi(r,i)})),n=Ro.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?Fv(u[0].x):Uv(t):(t=u.length,function(c){for(var l=0,f;l<t;++l)a[(f=u[l]).i]=f.x(c);return a.join("")})}function Sr(e,t){var n=typeof t,r;return t==null||n==="boolean"?ku(t):(n==="number"?zi:n==="string"?(r=Kr(t))?(t=r,mf):Bv:t instanceof Kr?mf:t instanceof Date?qv:Dv(t)?$v:Array.isArray(t)?Nv:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Lv:zi)(e,t)}function xu(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Wv(e,t){t===void 0&&(t=e,e=Sr);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function zv(e){return function(){return e}}function Hi(e){return+e}var yf=[0,1];function ke(e){return e}function za(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:zv(isNaN(t)?NaN:.5)}function Hv(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Kv(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=za(i,r),s=n(o,s)):(r=za(r,i),s=n(s,o)),function(a){return s(r(a))}}function Gv(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=za(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var u=ni(e,a,1,r)-1;return s[u](i[u](a))}}function ii(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function us(){var e=yf,t=yf,n=Sr,r,i,s,o=ke,a,u,c;function l(){var h=Math.min(e.length,t.length);return o!==ke&&(o=Hv(e[0],e[h-1])),a=h>2?Gv:Kv,u=c=null,f}function f(h){return h==null||isNaN(h=+h)?s:(u||(u=a(e.map(r),t,n)))(r(o(h)))}return f.invert=function(h){return o(i((c||(c=a(t,e.map(r),zi)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Hi),l()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),l()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=xu,l()},f.clamp=function(h){return arguments.length?(o=h?!0:ke,l()):o!==ke},f.interpolate=function(h){return arguments.length?(n=h,l()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,d){return r=h,i=d,l()}}function Tu(){return us()(ke,ke)}function Vv(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ki(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function dr(e){return e=Ki(Math.abs(e)),e?e[1]:NaN}function Qv(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Yv(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Jv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gr(e){if(!(t=Jv.exec(e)))throw new Error("invalid format: "+e);var t;return new Ou({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gr.prototype=Ou.prototype;function Ou(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ou.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xv(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Qd;function Zv(e,t){var n=Ki(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(Qd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Ki(e,Math.max(0,t+s-1))[0]}function bf(e,t){var n=Ki(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const vf={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Vv,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>bf(e*100,t),r:bf,s:Zv,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wf(e){return e}var _f=Array.prototype.map,Sf=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ew(e){var t=e.grouping===void 0||e.thousands===void 0?wf:Qv(_f.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?wf:Yv(_f.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(f){f=Gr(f);var h=f.fill,d=f.align,p=f.sign,m=f.symbol,g=f.zero,y=f.width,w=f.comma,v=f.precision,_=f.trim,S=f.type;S==="n"?(w=!0,S="g"):vf[S]||(v===void 0&&(v=12),_=!0,S="g"),(g||h==="0"&&d==="=")&&(g=!0,h="0",d="=");var k=m==="$"?n:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=m==="$"?r:/[%p]/.test(S)?o:"",P=vf[S],D=/[defgprs%]/.test(S);v=v===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function z(M){var N=k,V=A,Y,ae,O;if(S==="c")V=P(M)+V,M="";else{M=+M;var j=M<0||1/M<0;if(M=isNaN(M)?u:P(Math.abs(M),v),_&&(M=Xv(M)),j&&+M==0&&p!=="+"&&(j=!1),N=(j?p==="("?p:a:p==="-"||p==="("?"":p)+N,V=(S==="s"?Sf[8+Qd/3]:"")+V+(j&&p==="("?")":""),D){for(Y=-1,ae=M.length;++Y<ae;)if(O=M.charCodeAt(Y),48>O||O>57){V=(O===46?i+M.slice(Y+1):M.slice(Y))+V,M=M.slice(0,Y);break}}}w&&!g&&(M=t(M,1/0));var x=N.length+M.length+V.length,L=x<y?new Array(y-x+1).join(h):"";switch(w&&g&&(M=t(L+M,L.length?y-V.length:1/0),L=""),d){case"<":M=N+M+V+L;break;case"=":M=N+L+M+V;break;case"^":M=L.slice(0,x=L.length>>1)+N+M+V+L.slice(x);break;default:M=L+N+M+V;break}return s(M)}return z.toString=function(){return f+""},z}function l(f,h){var d=c((f=Gr(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(dr(h)/3)))*3,m=Math.pow(10,-p),g=Sf[8+p/3];return function(y){return d(m*y)+g}}return{format:c,formatPrefix:l}}var ki,Au,Yd;tw({thousands:",",grouping:[3],currency:["$",""]});function tw(e){return ki=ew(e),Au=ki.format,Yd=ki.formatPrefix,ki}function nw(e){return Math.max(0,-dr(Math.abs(e)))}function rw(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dr(t)/3)))*3-dr(Math.abs(e)))}function iw(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,dr(t)-dr(e))+1}function Jd(e,t,n,r){var i=Ua(e,t,n),s;switch(r=Gr(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=rw(i,o))&&(r.precision=s),Yd(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=iw(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=nw(i))&&(r.precision=s-(r.type==="%")*2);break}}return Au(r)}function Zt(e){var t=e.domain;return e.ticks=function(n){var r=t();return qa(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Jd(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],u,c,l=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);l-- >0;){if(c=La(o,a,n),c===u)return r[i]=o,r[s]=a,t(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;u=c}return e},e}function Xd(){var e=Tu();return e.copy=function(){return ii(e,Xd())},We.apply(e,arguments),Zt(e)}function Zd(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Hi),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Zd(e).unknown(t)},e=arguments.length?Array.from(e,Hi):[0,1],Zt(n)}function eg(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}function kf(e){return Math.log(e)}function xf(e){return Math.exp(e)}function sw(e){return-Math.log(-e)}function ow(e){return-Math.exp(-e)}function aw(e){return isFinite(e)?+("1e"+e):e<0?0:e}function uw(e){return e===10?aw:e===Math.E?Math.exp:t=>Math.pow(e,t)}function cw(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Tf(e){return(t,n)=>-e(-t,n)}function Pu(e){const t=e(kf,xf),n=t.domain;let r=10,i,s;function o(){return i=cw(r),s=uw(r),n()[0]<0?(i=Tf(i),s=Tf(s),e(sw,ow)):e(kf,xf),t}return t.base=function(a){return arguments.length?(r=+a,o()):r},t.domain=function(a){return arguments.length?(n(a),o()):n()},t.ticks=a=>{const u=n();let c=u[0],l=u[u.length-1];const f=l<c;f&&([c,l]=[l,c]);let h=i(c),d=i(l),p,m;const g=a==null?10:+a;let y=[];if(!(r%1)&&d-h<g){if(h=Math.floor(h),d=Math.ceil(d),c>0){for(;h<=d;++h)for(p=1;p<r;++p)if(m=h<0?p/s(-h):p*s(h),!(m<c)){if(m>l)break;y.push(m)}}else for(;h<=d;++h)for(p=r-1;p>=1;--p)if(m=h>0?p/s(-h):p*s(h),!(m<c)){if(m>l)break;y.push(m)}y.length*2<g&&(y=qa(c,l,g))}else y=qa(h,d,Math.min(d-h,g)).map(s);return f?y.reverse():y},t.tickFormat=(a,u)=>{if(a==null&&(a=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Gr(u)).precision==null&&(u.trim=!0),u=Au(u)),a===1/0)return u;const c=Math.max(1,r*a/t.ticks().length);return l=>{let f=l/s(Math.round(i(l)));return f*r<r-.5&&(f*=r),f<=c?u(l):""}},t.nice=()=>n(eg(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),t}function tg(){const e=Pu(us()).domain([1,10]);return e.copy=()=>ii(e,tg()).base(e.base()),We.apply(e,arguments),e}function Of(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Af(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Eu(e){var t=1,n=e(Of(t),Af(t));return n.constant=function(r){return arguments.length?e(Of(t=+r),Af(t)):t},Zt(n)}function ng(){var e=Eu(us());return e.copy=function(){return ii(e,ng()).constant(e.constant())},We.apply(e,arguments)}function Pf(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lw(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function fw(e){return e<0?-e*e:e*e}function Mu(e){var t=e(ke,ke),n=1;function r(){return n===1?e(ke,ke):n===.5?e(lw,fw):e(Pf(n),Pf(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Zt(t)}function Cu(){var e=Mu(us());return e.copy=function(){return ii(e,Cu()).exponent(e.exponent())},We.apply(e,arguments),e}function hw(){return Cu.apply(null,arguments).exponent(.5)}function Ef(e){return Math.sign(e)*e*e}function dw(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function rg(){var e=Tu(),t=[0,1],n=!1,r;function i(s){var o=dw(e(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return e.invert(Ef(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Hi)).map(Ef)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return rg(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},We.apply(i,arguments),Zt(i)}function ig(){var e=[],t=[],n=[],r;function i(){var o=0,a=Math.max(1,t.length);for(n=new Array(a-1);++o<a;)n[o-1]=yv(e,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:t[ni(n,o)]}return s.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let a of o)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Qt),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return ig().domain(e).range(t).unknown(r)},We.apply(s,arguments)}function sg(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function o(u){return u!=null&&u<=u?i[ni(r,u,0,n)]:s}function a(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,a()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,a()):i.slice()},o.invertExtent=function(u){var c=i.indexOf(u);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(u){return arguments.length&&(s=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return sg().domain([e,t]).range(i).unknown(s)},We.apply(Zt(o),arguments)}function og(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[ni(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return og().domain(e).range(t).unknown(n)},We.apply(i,arguments)}const jo=new Date,Io=new Date;function ge(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const u=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return u;let c;do u.push(c=new Date(+s)),t(s,a),e(s);while(c<s&&s<o);return u},i.filter=s=>ge(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(jo.setTime(+s),Io.setTime(+o),e(jo),e(Io),Math.floor(n(jo,Io))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Gi=ge(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Gi.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ge(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Gi);Gi.range;const wt=1e3,Fe=wt*60,_t=Fe*60,Ot=_t*24,Ru=Ot*7,Mf=Ot*30,$o=Ot*365,hn=ge(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wt)},(e,t)=>(t-e)/wt,e=>e.getUTCSeconds());hn.range;const ju=ge(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wt)},(e,t)=>{e.setTime(+e+t*Fe)},(e,t)=>(t-e)/Fe,e=>e.getMinutes());ju.range;const Iu=ge(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Fe)},(e,t)=>(t-e)/Fe,e=>e.getUTCMinutes());Iu.range;const $u=ge(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wt-e.getMinutes()*Fe)},(e,t)=>{e.setTime(+e+t*_t)},(e,t)=>(t-e)/_t,e=>e.getHours());$u.range;const Du=ge(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*_t)},(e,t)=>(t-e)/_t,e=>e.getUTCHours());Du.range;const si=ge(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fe)/Ot,e=>e.getDate()-1);si.range;const cs=ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ot,e=>e.getUTCDate()-1);cs.range;const ag=ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ot,e=>Math.floor(e/Ot));ag.range;function Mn(e){return ge(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Fe)/Ru)}const ls=Mn(0),Vi=Mn(1),gw=Mn(2),pw=Mn(3),gr=Mn(4),mw=Mn(5),yw=Mn(6);ls.range;Vi.range;gw.range;pw.range;gr.range;mw.range;yw.range;function Cn(e){return ge(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Ru)}const fs=Cn(0),Qi=Cn(1),bw=Cn(2),vw=Cn(3),pr=Cn(4),ww=Cn(5),_w=Cn(6);fs.range;Qi.range;bw.range;vw.range;pr.range;ww.range;_w.range;const Nu=ge(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Nu.range;const qu=ge(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());qu.range;const At=ge(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());At.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ge(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});At.range;const Pt=ge(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Pt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ge(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Pt.range;function ug(e,t,n,r,i,s){const o=[[hn,1,wt],[hn,5,5*wt],[hn,15,15*wt],[hn,30,30*wt],[s,1,Fe],[s,5,5*Fe],[s,15,15*Fe],[s,30,30*Fe],[i,1,_t],[i,3,3*_t],[i,6,6*_t],[i,12,12*_t],[r,1,Ot],[r,2,2*Ot],[n,1,Ru],[t,1,Mf],[t,3,3*Mf],[e,1,$o]];function a(c,l,f){const h=l<c;h&&([c,l]=[l,c]);const d=f&&typeof f.range=="function"?f:u(c,l,f),p=d?d.range(c,+l+1):[];return h?p.reverse():p}function u(c,l,f){const h=Math.abs(l-c)/f,d=vu(([,,g])=>g).right(o,h);if(d===o.length)return e.every(Ua(c/$o,l/$o,f));if(d===0)return Gi.every(Math.max(Ua(c,l,f),1));const[p,m]=o[h/o[d-1][2]<o[d][2]/h?d-1:d];return p.every(m)}return[a,u]}const[Sw,kw]=ug(Pt,qu,fs,ag,Du,Iu),[xw,Tw]=ug(At,Nu,ls,si,$u,ju);function Do(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function No(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Er(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Ow(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,u=e.shortMonths,c=Mr(i),l=Cr(i),f=Mr(s),h=Cr(s),d=Mr(o),p=Cr(o),m=Mr(a),g=Cr(a),y=Mr(u),w=Cr(u),v={a:j,A:x,b:L,B:ne,c:null,d:Df,e:Df,f:Qw,g:s_,G:a_,H:Kw,I:Gw,j:Vw,L:cg,m:Yw,M:Jw,p:ht,q:Ze,Q:Lf,s:Uf,S:Xw,u:Zw,U:e_,V:t_,w:n_,W:r_,x:null,X:null,y:i_,Y:o_,Z:u_,"%":qf},_={a:ue,A:se,b:ze,B:oi,c:null,d:Nf,e:Nf,f:h_,g:S_,G:x_,H:c_,I:l_,j:f_,L:fg,m:d_,M:g_,p:ce,q:ai,Q:Lf,s:Uf,S:p_,u:m_,U:y_,V:b_,w:v_,W:w_,x:null,X:null,y:__,Y:k_,Z:T_,"%":qf},S={a:z,A:M,b:N,B:V,c:Y,d:If,e:If,f:Bw,g:jf,G:Rf,H:$f,I:$f,j:qw,L:Fw,m:Nw,M:Lw,p:D,q:Dw,Q:zw,s:Hw,S:Uw,u:Cw,U:Rw,V:jw,w:Mw,W:Iw,x:ae,X:O,y:jf,Y:Rf,Z:$w,"%":Ww};v.x=k(n,v),v.X=k(r,v),v.c=k(t,v),_.x=k(n,_),_.X=k(r,_),_.c=k(t,_);function k(C,F){return function(K){var T=[],xe=-1,Z=0,Ee=C.length,Me,tn,zu;for(K instanceof Date||(K=new Date(+K));++xe<Ee;)C.charCodeAt(xe)===37&&(T.push(C.slice(Z,xe)),(tn=Cf[Me=C.charAt(++xe)])!=null?Me=C.charAt(++xe):tn=Me==="e"?" ":"0",(zu=F[Me])&&(Me=zu(K,tn)),T.push(Me),Z=xe+1);return T.push(C.slice(Z,xe)),T.join("")}}function A(C,F){return function(K){var T=Er(1900,void 0,1),xe=P(T,C,K+="",0),Z,Ee;if(xe!=K.length)return null;if("Q"in T)return new Date(T.Q);if("s"in T)return new Date(T.s*1e3+("L"in T?T.L:0));if(F&&!("Z"in T)&&(T.Z=0),"p"in T&&(T.H=T.H%12+T.p*12),T.m===void 0&&(T.m="q"in T?T.q:0),"V"in T){if(T.V<1||T.V>53)return null;"w"in T||(T.w=1),"Z"in T?(Z=No(Er(T.y,0,1)),Ee=Z.getUTCDay(),Z=Ee>4||Ee===0?Qi.ceil(Z):Qi(Z),Z=cs.offset(Z,(T.V-1)*7),T.y=Z.getUTCFullYear(),T.m=Z.getUTCMonth(),T.d=Z.getUTCDate()+(T.w+6)%7):(Z=Do(Er(T.y,0,1)),Ee=Z.getDay(),Z=Ee>4||Ee===0?Vi.ceil(Z):Vi(Z),Z=si.offset(Z,(T.V-1)*7),T.y=Z.getFullYear(),T.m=Z.getMonth(),T.d=Z.getDate()+(T.w+6)%7)}else("W"in T||"U"in T)&&("w"in T||(T.w="u"in T?T.u%7:"W"in T?1:0),Ee="Z"in T?No(Er(T.y,0,1)).getUTCDay():Do(Er(T.y,0,1)).getDay(),T.m=0,T.d="W"in T?(T.w+6)%7+T.W*7-(Ee+5)%7:T.w+T.U*7-(Ee+6)%7);return"Z"in T?(T.H+=T.Z/100|0,T.M+=T.Z%100,No(T)):Do(T)}}function P(C,F,K,T){for(var xe=0,Z=F.length,Ee=K.length,Me,tn;xe<Z;){if(T>=Ee)return-1;if(Me=F.charCodeAt(xe++),Me===37){if(Me=F.charAt(xe++),tn=S[Me in Cf?F.charAt(xe++):Me],!tn||(T=tn(C,K,T))<0)return-1}else if(Me!=K.charCodeAt(T++))return-1}return T}function D(C,F,K){var T=c.exec(F.slice(K));return T?(C.p=l.get(T[0].toLowerCase()),K+T[0].length):-1}function z(C,F,K){var T=d.exec(F.slice(K));return T?(C.w=p.get(T[0].toLowerCase()),K+T[0].length):-1}function M(C,F,K){var T=f.exec(F.slice(K));return T?(C.w=h.get(T[0].toLowerCase()),K+T[0].length):-1}function N(C,F,K){var T=y.exec(F.slice(K));return T?(C.m=w.get(T[0].toLowerCase()),K+T[0].length):-1}function V(C,F,K){var T=m.exec(F.slice(K));return T?(C.m=g.get(T[0].toLowerCase()),K+T[0].length):-1}function Y(C,F,K){return P(C,t,F,K)}function ae(C,F,K){return P(C,n,F,K)}function O(C,F,K){return P(C,r,F,K)}function j(C){return o[C.getDay()]}function x(C){return s[C.getDay()]}function L(C){return u[C.getMonth()]}function ne(C){return a[C.getMonth()]}function ht(C){return i[+(C.getHours()>=12)]}function Ze(C){return 1+~~(C.getMonth()/3)}function ue(C){return o[C.getUTCDay()]}function se(C){return s[C.getUTCDay()]}function ze(C){return u[C.getUTCMonth()]}function oi(C){return a[C.getUTCMonth()]}function ce(C){return i[+(C.getUTCHours()>=12)]}function ai(C){return 1+~~(C.getUTCMonth()/3)}return{format:function(C){var F=k(C+="",v);return F.toString=function(){return C},F},parse:function(C){var F=A(C+="",!1);return F.toString=function(){return C},F},utcFormat:function(C){var F=k(C+="",_);return F.toString=function(){return C},F},utcParse:function(C){var F=A(C+="",!0);return F.toString=function(){return C},F}}}var Cf={"-":"",_:" ",0:"0"},be=/^\s*\d+/,Aw=/^%/,Pw=/[\\^$*+?|[\]().{}]/g;function Q(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function Ew(e){return e.replace(Pw,"\\$&")}function Mr(e){return new RegExp("^(?:"+e.map(Ew).join("|")+")","i")}function Cr(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Mw(e,t,n){var r=be.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Cw(e,t,n){var r=be.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Rw(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function jw(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Iw(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Rf(e,t,n){var r=be.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function jf(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $w(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Dw(e,t,n){var r=be.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Nw(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function If(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function qw(e,t,n){var r=be.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function $f(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Lw(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Uw(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Fw(e,t,n){var r=be.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Bw(e,t,n){var r=be.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ww(e,t,n){var r=Aw.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function zw(e,t,n){var r=be.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Hw(e,t,n){var r=be.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Df(e,t){return Q(e.getDate(),t,2)}function Kw(e,t){return Q(e.getHours(),t,2)}function Gw(e,t){return Q(e.getHours()%12||12,t,2)}function Vw(e,t){return Q(1+si.count(At(e),e),t,3)}function cg(e,t){return Q(e.getMilliseconds(),t,3)}function Qw(e,t){return cg(e,t)+"000"}function Yw(e,t){return Q(e.getMonth()+1,t,2)}function Jw(e,t){return Q(e.getMinutes(),t,2)}function Xw(e,t){return Q(e.getSeconds(),t,2)}function Zw(e){var t=e.getDay();return t===0?7:t}function e_(e,t){return Q(ls.count(At(e)-1,e),t,2)}function lg(e){var t=e.getDay();return t>=4||t===0?gr(e):gr.ceil(e)}function t_(e,t){return e=lg(e),Q(gr.count(At(e),e)+(At(e).getDay()===4),t,2)}function n_(e){return e.getDay()}function r_(e,t){return Q(Vi.count(At(e)-1,e),t,2)}function i_(e,t){return Q(e.getFullYear()%100,t,2)}function s_(e,t){return e=lg(e),Q(e.getFullYear()%100,t,2)}function o_(e,t){return Q(e.getFullYear()%1e4,t,4)}function a_(e,t){var n=e.getDay();return e=n>=4||n===0?gr(e):gr.ceil(e),Q(e.getFullYear()%1e4,t,4)}function u_(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Q(t/60|0,"0",2)+Q(t%60,"0",2)}function Nf(e,t){return Q(e.getUTCDate(),t,2)}function c_(e,t){return Q(e.getUTCHours(),t,2)}function l_(e,t){return Q(e.getUTCHours()%12||12,t,2)}function f_(e,t){return Q(1+cs.count(Pt(e),e),t,3)}function fg(e,t){return Q(e.getUTCMilliseconds(),t,3)}function h_(e,t){return fg(e,t)+"000"}function d_(e,t){return Q(e.getUTCMonth()+1,t,2)}function g_(e,t){return Q(e.getUTCMinutes(),t,2)}function p_(e,t){return Q(e.getUTCSeconds(),t,2)}function m_(e){var t=e.getUTCDay();return t===0?7:t}function y_(e,t){return Q(fs.count(Pt(e)-1,e),t,2)}function hg(e){var t=e.getUTCDay();return t>=4||t===0?pr(e):pr.ceil(e)}function b_(e,t){return e=hg(e),Q(pr.count(Pt(e),e)+(Pt(e).getUTCDay()===4),t,2)}function v_(e){return e.getUTCDay()}function w_(e,t){return Q(Qi.count(Pt(e)-1,e),t,2)}function __(e,t){return Q(e.getUTCFullYear()%100,t,2)}function S_(e,t){return e=hg(e),Q(e.getUTCFullYear()%100,t,2)}function k_(e,t){return Q(e.getUTCFullYear()%1e4,t,4)}function x_(e,t){var n=e.getUTCDay();return e=n>=4||n===0?pr(e):pr.ceil(e),Q(e.getUTCFullYear()%1e4,t,4)}function T_(){return"+0000"}function qf(){return"%"}function Lf(e){return+e}function Uf(e){return Math.floor(+e/1e3)}var zn,dg,gg;O_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function O_(e){return zn=Ow(e),dg=zn.format,zn.parse,gg=zn.utcFormat,zn.utcParse,zn}function A_(e){return new Date(e)}function P_(e){return e instanceof Date?+e:+new Date(+e)}function Lu(e,t,n,r,i,s,o,a,u,c){var l=Tu(),f=l.invert,h=l.domain,d=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),w=c("%b %d"),v=c("%B"),_=c("%Y");function S(k){return(u(k)<k?d:a(k)<k?p:o(k)<k?m:s(k)<k?g:r(k)<k?i(k)<k?y:w:n(k)<k?v:_)(k)}return l.invert=function(k){return new Date(f(k))},l.domain=function(k){return arguments.length?h(Array.from(k,P_)):h().map(A_)},l.ticks=function(k){var A=h();return e(A[0],A[A.length-1],k??10)},l.tickFormat=function(k,A){return A==null?S:c(A)},l.nice=function(k){var A=h();return(!k||typeof k.range!="function")&&(k=t(A[0],A[A.length-1],k??10)),k?h(eg(A,k)):l},l.copy=function(){return ii(l,Lu(e,t,n,r,i,s,o,a,u,c))},l}function E_(){return We.apply(Lu(xw,Tw,At,Nu,ls,si,$u,ju,hn,dg).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function M_(){return We.apply(Lu(Sw,kw,Pt,qu,fs,cs,Du,Iu,hn,gg).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hs(){var e=0,t=1,n,r,i,s,o=ke,a=!1,u;function c(f){return f==null||isNaN(f=+f)?u:o(i===0?.5:(f=(s(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(a=!!f,c):a},c.interpolator=function(f){return arguments.length?(o=f,c):o};function l(f){return function(h){var d,p;return arguments.length?([d,p]=h,o=f(d,p),c):[o(0),o(1)]}}return c.range=l(Sr),c.rangeRound=l(xu),c.unknown=function(f){return arguments.length?(u=f,c):u},function(f){return s=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function en(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function pg(){var e=Zt(hs()(ke));return e.copy=function(){return en(e,pg())},Et.apply(e,arguments)}function mg(){var e=Pu(hs()).domain([1,10]);return e.copy=function(){return en(e,mg()).base(e.base())},Et.apply(e,arguments)}function yg(){var e=Eu(hs());return e.copy=function(){return en(e,yg()).constant(e.constant())},Et.apply(e,arguments)}function Uu(){var e=Mu(hs());return e.copy=function(){return en(e,Uu()).exponent(e.exponent())},Et.apply(e,arguments)}function C_(){return Uu.apply(null,arguments).exponent(.5)}function bg(){var e=[],t=ke;function n(r){if(r!=null&&!isNaN(r=+r))return t((ni(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Qt),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>mv(e,s/r))},n.copy=function(){return bg(t).domain(e)},Et.apply(n,arguments)}function ds(){var e=0,t=.5,n=1,r=1,i,s,o,a,u,c=ke,l,f=!1,h;function d(m){return isNaN(m=+m)?h:(m=.5+((m=+l(m))-s)*(r*m<r*s?a:u),c(f?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t,n]=m,i=l(e=+e),s=l(t=+t),o=l(n=+n),a=i===s?0:.5/(s-i),u=s===o?0:.5/(o-s),r=s<i?-1:1,d):[e,t,n]},d.clamp=function(m){return arguments.length?(f=!!m,d):f},d.interpolator=function(m){return arguments.length?(c=m,d):c};function p(m){return function(g){var y,w,v;return arguments.length?([y,w,v]=g,c=Wv(m,[y,w,v]),d):[c(0),c(.5),c(1)]}}return d.range=p(Sr),d.rangeRound=p(xu),d.unknown=function(m){return arguments.length?(h=m,d):h},function(m){return l=m,i=m(e),s=m(t),o=m(n),a=i===s?0:.5/(s-i),u=s===o?0:.5/(o-s),r=s<i?-1:1,d}}function vg(){var e=Zt(ds()(ke));return e.copy=function(){return en(e,vg())},Et.apply(e,arguments)}function wg(){var e=Pu(ds()).domain([.1,1,10]);return e.copy=function(){return en(e,wg()).base(e.base())},Et.apply(e,arguments)}function _g(){var e=Eu(ds());return e.copy=function(){return en(e,_g()).constant(e.constant())},Et.apply(e,arguments)}function Fu(){var e=Mu(ds());return e.copy=function(){return en(e,Fu()).exponent(e.exponent())},Et.apply(e,arguments)}function R_(){return Fu.apply(null,arguments).exponent(.5)}const fS=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_u,scaleDiverging:vg,scaleDivergingLog:wg,scaleDivergingPow:Fu,scaleDivergingSqrt:R_,scaleDivergingSymlog:_g,scaleIdentity:Zd,scaleImplicit:Fa,scaleLinear:Xd,scaleLog:tg,scaleOrdinal:wu,scalePoint:vv,scalePow:Cu,scaleQuantile:ig,scaleQuantize:sg,scaleRadial:rg,scaleSequential:pg,scaleSequentialLog:mg,scaleSequentialPow:Uu,scaleSequentialQuantile:bg,scaleSequentialSqrt:C_,scaleSequentialSymlog:yg,scaleSqrt:hw,scaleSymlog:ng,scaleThreshold:og,scaleTime:E_,scaleUtc:M_,tickFormat:Jd},Symbol.toStringTag,{value:"Module"}));var kr=1e9,j_={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Wu,ie=!0,Be="[DecimalError] ",kn=Be+"Invalid argument: ",Bu=Be+"Exponent out of range: ",xr=Math.floor,cn=Math.pow,I_=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Re,ye=1e7,re=7,Sg=9007199254740991,Yi=xr(Sg/re),R={};R.absoluteValue=R.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};R.comparedTo=R.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};R.decimalPlaces=R.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*re;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};R.dividedBy=R.div=function(e){return St(this,new this.constructor(e))};R.dividedToIntegerBy=R.idiv=function(e){var t=this,n=t.constructor;return X(St(t,new n(e),0,1),n.precision)};R.equals=R.eq=function(e){return!this.cmp(e)};R.exponent=function(){return le(this)};R.greaterThan=R.gt=function(e){return this.cmp(e)>0};R.greaterThanOrEqualTo=R.gte=function(e){return this.cmp(e)>=0};R.isInteger=R.isint=function(){return this.e>this.d.length-2};R.isNegative=R.isneg=function(){return this.s<0};R.isPositive=R.ispos=function(){return this.s>0};R.isZero=function(){return this.s===0};R.lessThan=R.lt=function(e){return this.cmp(e)<0};R.lessThanOrEqualTo=R.lte=function(e){return this.cmp(e)<1};R.logarithm=R.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Re))throw Error(Be+"NaN");if(n.s<1)throw Error(Be+(n.s?"NaN":"-Infinity"));return n.eq(Re)?new r(0):(ie=!1,t=St(Vr(n,s),Vr(e,s),s),ie=!0,X(t,i))};R.minus=R.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Tg(t,e):kg(t,(e.s=-e.s,e))};R.modulo=R.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Be+"NaN");return n.s?(ie=!1,t=St(n,e,0,1).times(e),ie=!0,n.minus(t)):X(new r(n),i)};R.naturalExponential=R.exp=function(){return xg(this)};R.naturalLogarithm=R.ln=function(){return Vr(this)};R.negated=R.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};R.plus=R.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kg(t,e):Tg(t,(e.s=-e.s,e))};R.precision=R.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(kn+e);if(t=le(i)+1,r=i.d.length-1,n=r*re+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};R.squareRoot=R.sqrt=function(){var e,t,n,r,i,s,o,a=this,u=a.constructor;if(a.s<1){if(!a.s)return new u(0);throw Error(Be+"NaN")}for(e=le(a),ie=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=st(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=xr((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(s=r,r=s.plus(St(a,s,o+2)).times(.5),st(s.d).slice(0,o)===(t=st(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(X(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(t!="9999")break;o+=4}return ie=!0,X(r,n)};R.times=R.mul=function(e){var t,n,r,i,s,o,a,u,c,l=this,f=l.constructor,h=l.d,d=(e=new f(e)).d;if(!l.s||!e.s)return new f(0);for(e.s*=l.s,n=l.e+e.e,u=h.length,c=d.length,u<c&&(s=h,h=d,d=s,o=u,u=c,c=o),s=[],o=u+c,r=o;r--;)s.push(0);for(r=c;--r>=0;){for(t=0,i=u+r;i>r;)a=s[i]+d[r]*h[i-r-1]+t,s[i--]=a%ye|0,t=a/ye|0;s[i]=(s[i]+t)%ye|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,ie?X(e,f.precision):e};R.toDecimalPlaces=R.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ct(e,0,kr),t===void 0?t=r.rounding:ct(t,0,8),X(n,e+le(n)+1,t))};R.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Pn(r,!0):(ct(e,0,kr),t===void 0?t=i.rounding:ct(t,0,8),r=X(new i(r),e+1,t),n=Pn(r,!0,e+1)),n};R.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?Pn(i):(ct(e,0,kr),t===void 0?t=s.rounding:ct(t,0,8),r=X(new s(i),e+le(i)+1,t),n=Pn(r.abs(),!1,e+le(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};R.toInteger=R.toint=function(){var e=this,t=e.constructor;return X(new t(e),le(e)+1,t.rounding)};R.toNumber=function(){return+this};R.toPower=R.pow=function(e){var t,n,r,i,s,o,a=this,u=a.constructor,c=12,l=+(e=new u(e));if(!e.s)return new u(Re);if(a=new u(a),!a.s){if(e.s<1)throw Error(Be+"Infinity");return a}if(a.eq(Re))return a;if(r=u.precision,e.eq(Re))return X(a,r);if(t=e.e,n=e.d.length-1,o=t>=n,s=a.s,o){if((n=l<0?-l:l)<=Sg){for(i=new u(Re),t=Math.ceil(r/re+4),ie=!1;n%2&&(i=i.times(a),Bf(i.d,t)),n=xr(n/2),n!==0;)a=a.times(a),Bf(a.d,t);return ie=!0,e.s<0?new u(Re).div(i):X(i,r)}}else if(s<0)throw Error(Be+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,a.s=1,ie=!1,i=e.times(Vr(a,r+c)),ie=!0,i=xg(i),i.s=s,i};R.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=le(i),r=Pn(i,n<=s.toExpNeg||n>=s.toExpPos)):(ct(e,1,kr),t===void 0?t=s.rounding:ct(t,0,8),i=X(new s(i),e,t),n=le(i),r=Pn(i,e<=n||n<=s.toExpNeg,e)),r};R.toSignificantDigits=R.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ct(e,1,kr),t===void 0?t=r.rounding:ct(t,0,8)),X(new r(n),e,t)};R.toString=R.valueOf=R.val=R.toJSON=R[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=le(e),n=e.constructor;return Pn(e,t<=n.toExpNeg||t>=n.toExpPos)};function kg(e,t){var n,r,i,s,o,a,u,c,l=e.constructor,f=l.precision;if(!e.s||!t.s)return t.s||(t=new l(e)),ie?X(t,f):t;if(u=e.d,c=t.d,o=e.e,i=t.e,u=u.slice(),s=o-i,s){for(s<0?(r=u,s=-s,a=c.length):(r=c,i=o,a=u.length),o=Math.ceil(f/re),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=u.length,s=c.length,a-s<0&&(s=a,r=c,c=u,u=r),n=0;s;)n=(u[--s]=u[s]+c[s]+n)/ye|0,u[s]%=ye;for(n&&(u.unshift(n),++i),a=u.length;u[--a]==0;)u.pop();return t.d=u,t.e=i,ie?X(t,f):t}function ct(e,t,n){if(e!==~~e||e<t||e>n)throw Error(kn+e)}function st(e){var t,n,r,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)r=e[t]+"",n=re-r.length,n&&(s+=$t(n)),s+=r;o=e[t],r=o+"",n=re-r.length,n&&(s+=$t(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var St=(function(){function e(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%ye|0,o=s/ye|0;return o&&r.unshift(o),r}function t(r,i,s,o){var a,u;if(s!=o)u=s>o?1:-1;else for(a=u=0;a<s;a++)if(r[a]!=i[a]){u=r[a]>i[a]?1:-1;break}return u}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*ye+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,u,c,l,f,h,d,p,m,g,y,w,v,_,S,k,A,P,D=r.constructor,z=r.s==i.s?1:-1,M=r.d,N=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(Be+"Division by zero");for(u=r.e-i.e,A=N.length,S=M.length,d=new D(z),p=d.d=[],c=0;N[c]==(M[c]||0);)++c;if(N[c]>(M[c]||0)&&--u,s==null?w=s=D.precision:o?w=s+(le(r)-le(i))+1:w=s,w<0)return new D(0);if(w=w/re+2|0,c=0,A==1)for(l=0,N=N[0],w++;(c<S||l)&&w--;c++)v=l*ye+(M[c]||0),p[c]=v/N|0,l=v%N|0;else{for(l=ye/(N[0]+1)|0,l>1&&(N=e(N,l),M=e(M,l),A=N.length,S=M.length),_=A,m=M.slice(0,A),g=m.length;g<A;)m[g++]=0;P=N.slice(),P.unshift(0),k=N[0],N[1]>=ye/2&&++k;do l=0,a=t(N,m,A,g),a<0?(y=m[0],A!=g&&(y=y*ye+(m[1]||0)),l=y/k|0,l>1?(l>=ye&&(l=ye-1),f=e(N,l),h=f.length,g=m.length,a=t(f,m,h,g),a==1&&(l--,n(f,A<h?P:N,h))):(l==0&&(a=l=1),f=N.slice()),h=f.length,h<g&&f.unshift(0),n(m,f,g),a==-1&&(g=m.length,a=t(N,m,A,g),a<1&&(l++,n(m,A<g?P:N,g))),g=m.length):a===0&&(l++,m=[0]),p[c++]=l,a&&m[0]?m[g++]=M[_]||0:(m=[M[_]],g=1);while((_++<S||m[0]!==void 0)&&w--)}return p[0]||p.shift(),d.e=u,X(d,o?s+le(d)+1:s)}})();function xg(e,t){var n,r,i,s,o,a,u=0,c=0,l=e.constructor,f=l.precision;if(le(e)>16)throw Error(Bu+le(e));if(!e.s)return new l(Re);for(ie=!1,a=f,o=new l(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(r=Math.log(cn(2,c))/Math.LN10*2+5|0,a+=r,n=i=s=new l(Re),l.precision=a;;){if(i=X(i.times(e),a),n=n.times(++u),o=s.plus(St(i,n,a)),st(o.d).slice(0,a)===st(s.d).slice(0,a)){for(;c--;)s=X(s.times(s),a);return l.precision=f,t==null?(ie=!0,X(s,f)):s}s=o}}function le(e){for(var t=e.e*re,n=e.d[0];n>=10;n/=10)t++;return t}function qo(e,t,n){if(t>e.LN10.sd())throw ie=!0,n&&(e.precision=n),Error(Be+"LN10 precision limit exceeded");return X(new e(e.LN10),t)}function $t(e){for(var t="";e--;)t+="0";return t}function Vr(e,t){var n,r,i,s,o,a,u,c,l,f=1,h=10,d=e,p=d.d,m=d.constructor,g=m.precision;if(d.s<1)throw Error(Be+(d.s?"NaN":"-Infinity"));if(d.eq(Re))return new m(0);if(t==null?(ie=!1,c=g):c=t,d.eq(10))return t==null&&(ie=!0),qo(m,c);if(c+=h,m.precision=c,n=st(p),r=n.charAt(0),s=le(d),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)d=d.times(e),n=st(d.d),r=n.charAt(0),f++;s=le(d),r>1?(d=new m("0."+n),s++):d=new m(r+"."+n.slice(1))}else return u=qo(m,c+2,g).times(s+""),d=Vr(new m(r+"."+n.slice(1)),c-h).plus(u),m.precision=g,t==null?(ie=!0,X(d,g)):d;for(a=o=d=St(d.minus(Re),d.plus(Re),c),l=X(d.times(d),c),i=3;;){if(o=X(o.times(l),c),u=a.plus(St(o,new m(i),c)),st(u.d).slice(0,c)===st(a.d).slice(0,c))return a=a.times(2),s!==0&&(a=a.plus(qo(m,c+2,g).times(s+""))),a=St(a,new m(f),c),m.precision=g,t==null?(ie=!0,X(a,g)):a;a=u,i+=2}}function Ff(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=xr(n/re),e.d=[],r=(n+1)%re,n<0&&(r+=re),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=re;r<i;)e.d.push(+t.slice(r,r+=re));t=t.slice(r),r=re-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ie&&(e.e>Yi||e.e<-Yi))throw Error(Bu+n)}else e.s=0,e.e=0,e.d=[0];return e}function X(e,t,n){var r,i,s,o,a,u,c,l,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(r=t-o,r<0)r+=re,i=t,c=f[l=0];else{if(l=Math.ceil((r+1)/re),s=f.length,l>=s)return e;for(c=s=f[l],o=1;s>=10;s/=10)o++;r%=re,i=r-re+o}if(n!==void 0&&(s=cn(10,o-i-1),a=c/s%10|0,u=t<0||f[l+1]!==void 0||c%s,u=n<4?(a||u)&&(n==0||n==(e.s<0?3:2)):a>5||a==5&&(n==4||u||n==6&&(r>0?i>0?c/cn(10,o-i):0:f[l-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return u?(s=le(e),f.length=1,t=t-s-1,f[0]=cn(10,(re-t%re)%re),e.e=xr(-t/re)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=l,s=1,l--):(f.length=l+1,s=cn(10,re-r),f[l]=i>0?(c/cn(10,o-i)%cn(10,i)|0)*s:0),u)for(;;)if(l==0){(f[0]+=s)==ye&&(f[0]=1,++e.e);break}else{if(f[l]+=s,f[l]!=ye)break;f[l--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(ie&&(e.e>Yi||e.e<-Yi))throw Error(Bu+le(e));return e}function Tg(e,t){var n,r,i,s,o,a,u,c,l,f,h=e.constructor,d=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ie?X(t,d):t;if(u=e.d,f=t.d,r=t.e,c=e.e,u=u.slice(),o=c-r,o){for(l=o<0,l?(n=u,o=-o,a=f.length):(n=f,r=c,a=u.length),i=Math.max(Math.ceil(d/re),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,a=f.length,l=i<a,l&&(a=i),i=0;i<a;i++)if(u[i]!=f[i]){l=u[i]<f[i];break}o=0}for(l&&(n=u,u=f,f=n,t.s=-t.s),a=u.length,i=f.length-a;i>0;--i)u[a++]=0;for(i=f.length;i>o;){if(u[--i]<f[i]){for(s=i;s&&u[--s]===0;)u[s]=ye-1;--u[s],u[i]+=ye}u[i]-=f[i]}for(;u[--a]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,ie?X(t,d):t):new h(0)}function Pn(e,t,n){var r,i=le(e),s=st(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+$t(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+$t(-i-1)+s,n&&(r=n-o)>0&&(s+=$t(r))):i>=o?(s+=$t(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+$t(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=$t(r))),e.s<0?"-"+s:s}function Bf(e,t){if(e.length>t)return e.length=t,!0}function Og(e){var t,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(kn+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Ff(o,s.toString())}else if(typeof s!="string")throw Error(kn+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,I_.test(s))Ff(o,s);else throw Error(kn+s)}if(i.prototype=R,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Og,i.config=i.set=$_,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function $_(e){if(!e||typeof e!="object")throw Error(Be+"Object expected");var t,n,r,i=["precision",1,kr,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(xr(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(kn+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(kn+n+": "+r);return this}var Wu=Og(j_);Re=new Wu(1);const hS=Wu;var Lo={exports:{}},Wf;function D_(){return Wf||(Wf=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,c,l){this.fn=u,this.context=c,this.once=l||!1}function s(u,c,l,f,h){if(typeof l!="function")throw new TypeError("The listener must be a function");var d=new i(l,f||u,h),p=n?n+c:c;return u._events[p]?u._events[p].fn?u._events[p]=[u._events[p],d]:u._events[p].push(d):(u._events[p]=d,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new r:delete u._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],l,f;if(this._eventsCount===0)return c;for(f in l=this._events)t.call(l,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(l)):c},a.prototype.listeners=function(c){var l=n?n+c:c,f=this._events[l];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,p=new Array(d);h<d;h++)p[h]=f[h].fn;return p},a.prototype.listenerCount=function(c){var l=n?n+c:c,f=this._events[l];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,l,f,h,d,p){var m=n?n+c:c;if(!this._events[m])return!1;var g=this._events[m],y=arguments.length,w,v;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,l),!0;case 3:return g.fn.call(g.context,l,f),!0;case 4:return g.fn.call(g.context,l,f,h),!0;case 5:return g.fn.call(g.context,l,f,h,d),!0;case 6:return g.fn.call(g.context,l,f,h,d,p),!0}for(v=1,w=new Array(y-1);v<y;v++)w[v-1]=arguments[v];g.fn.apply(g.context,w)}else{var _=g.length,S;for(v=0;v<_;v++)switch(g[v].once&&this.removeListener(c,g[v].fn,void 0,!0),y){case 1:g[v].fn.call(g[v].context);break;case 2:g[v].fn.call(g[v].context,l);break;case 3:g[v].fn.call(g[v].context,l,f);break;case 4:g[v].fn.call(g[v].context,l,f,h);break;default:if(!w)for(S=1,w=new Array(y-1);S<y;S++)w[S-1]=arguments[S];g[v].fn.apply(g[v].context,w)}}return!0},a.prototype.on=function(c,l,f){return s(this,c,l,f,!1)},a.prototype.once=function(c,l,f){return s(this,c,l,f,!0)},a.prototype.removeListener=function(c,l,f,h){var d=n?n+c:c;if(!this._events[d])return this;if(!l)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===l&&(!h||p.once)&&(!f||p.context===f)&&o(this,d);else{for(var m=0,g=[],y=p.length;m<y;m++)(p[m].fn!==l||h&&!p[m].once||f&&p[m].context!==f)&&g.push(p[m]);g.length?this._events[d]=g.length===1?g[0]:g:o(this,d)}return this},a.prototype.removeAllListeners=function(c){var l;return c?(l=n?n+c:c,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(Lo)),Lo.exports}var N_=D_();const dS=lt(N_);var Uo={},Fo={},Bo={},zf;function q_(){return zf||(zf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:s}={}){let o,a=null;const u=s!=null&&s.includes("leading"),c=s==null||s.includes("trailing"),l=()=>{a!==null&&(n.apply(o,a),o=void 0,a=null)},f=()=>{c&&l(),m()};let h=null;const d=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},p=()=>{h!==null&&(clearTimeout(h),h=null)},m=()=>{p(),o=void 0,a=null},g=()=>{l()},y=function(...w){if(i?.aborted)return;o=this,a=w;const v=h==null;d(),u&&v&&l()};return y.schedule=d,y.cancel=m,y.flush=g,i?.addEventListener("abort",m,{once:!0}),y}e.debounce=t})(Bo)),Bo}var Hf;function L_(){return Hf||(Hf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q_();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:a=!0,maxWait:u}=s,c=Array(2);o&&(c[0]="leading"),a&&(c[1]="trailing");let l,f=null;const h=t.debounce(function(...m){l=r.apply(this,m),f=null},i,{edges:c}),d=function(...m){return u!=null&&(f===null&&(f=Date.now()),Date.now()-f>=u)?(l=r.apply(this,m),f=Date.now(),h.cancel(),h.schedule(),l):(h.apply(this,m),l)},p=()=>(h.flush(),l);return d.cancel=h.cancel,d.flush=p,d}e.debounce=n})(Fo)),Fo}var Kf;function U_(){return Kf||(Kf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L_();function n(r,i=0,s={}){const{leading:o=!0,trailing:a=!0}=s;return t.debounce(r,i,{leading:o,maxWait:i,trailing:a})}e.throttle=n})(Uo)),Uo}var Wo,Gf;function F_(){return Gf||(Gf=1,Wo=U_().throttle),Wo}var B_=F_();const gS=lt(B_);var zo={},Ho={},Vf;function W_(){return Vf||(Vf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Ho)),Ho}var Ko={},Qf;function z_(){return Qf||(Qf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Ko)),Ko}var Yf;function H_(){return Yf||(Yf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W_(),n=z_(),r=fu();function i(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=i})(zo)),zo}var Go,Jf;function K_(){return Jf||(Jf=1,Go=H_().last),Go}var G_=K_();const pS=lt(G_);var Vo={},Xf;function V_(){return Xf||(Xf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Vo)),Vo}var Qo,Zf;function Q_(){return Zf||(Zf=1,Qo=V_().isPlainObject),Qo}var Y_=Q_();const mS=lt(Y_);function yS(){}var eh="Invariant failed";function bS(e,t){var n=typeof t=="function"?t():t,r=n?"".concat(eh,": ").concat(n):eh;throw new Error(r)}export{X1 as $,N1 as A,D1 as B,$1 as C,I1 as D,j1 as E,I0 as F,eS as G,bb as H,tS as I,iS as J,mu as K,nS as L,i1 as M,rS as N,Db as O,jb as P,n1 as Q,sS as R,L1 as S,On as T,hr as U,aS as V,uS as W,Y1 as X,tl as Y,Z1 as Z,Wc as _,Le as a,Fr as a0,J1 as a1,Gb as a2,oS as a3,M1 as a4,j0 as a5,V1 as a6,Q1 as a7,G1 as a8,K1 as a9,H1 as aa,z1 as ab,dd as ac,W1 as ad,R1 as ae,C1 as af,U1 as ag,B1 as ah,F1 as ai,cS as aj,hS as ak,fS as al,lS as am,dS as an,gS as ao,pS as ap,mS as aq,yS as ar,bS as as,s1 as at,o1 as au,h1 as av,r1 as b,_1 as c,p1 as d,y1 as e,m1 as f,v1 as g,b1 as h,ur as i,d1 as j,k1 as k,w1 as l,T1 as m,ve as n,g1 as o,x1 as p,S1 as q,e1 as r,t1 as s,O1 as t,ou as u,A1 as v,P1 as w,E1 as x,Kg as y,q1 as z};
